<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><title>Ortiz Facility Checker</title><link href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" rel="stylesheet"/><script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script><style>        /* ======================= BASE ======================= */        body {            width: 100%;            font-family: 'Orbitron', sans-serif;            background-color: #0a0f1e;            color: #e0e6f0;            margin: 0;            padding: 0;        }        #map {            width: 100%;            height: 500px;            position: relative;        }        /* ======================= INPUTS ======================= */        .input-label {            margin-left: 10px;            display: inline-block;        }        .input-container {            margin: 20px 0;        }        label,        input {            margin-right: 10px;        }        input[type="text"] {            width: 350px;            height: 20px;        }        button {            padding: 8px 12px;            border-radius: 6px;            border: none;            cursor: pointer;            background: #1976d2;            color: #fff;            transition: 0.2s;        }        button.secondary {            background: #4CAF50;        }        button:disabled {            background-color: #3a4e5f;            cursor: not-allowed;        }        /* ======================= WATERMARK ======================= */        #watermark {            position: fixed;            bottom: 10px;            right: 10px;            font-size: 14px;            color: #00f7ff;            background: rgba(20, 30, 60, 0.85);            padding: 6px 14px;            border-radius: 10px;            border: 1px solid rgba(0, 247, 255, 0.6);            font-family: "Orbitron", sans-serif;            letter-spacing: 1px;            box-shadow: 0 0 15px rgba(0, 247, 255, 0.4);            text-shadow: 0 0 6px rgba(0, 247, 255, 0.9), 0 0 12px rgba(0, 247, 255, 0.6);            z-index: 1500;            animation: watermarkGlow 3s infinite alternate;        }        @keyframes watermarkGlow {            from {                text-shadow: 0 0 6px rgba(0, 247, 255, 0.6), 0 0 12px rgba(0, 247, 255, 0.3);                box-shadow: 0 0 10px rgba(0, 247, 255, 0.2);            }            to {                text-shadow: 0 0 12px rgba(0, 247, 255, 1), 0 0 20px rgba(0, 247, 255, 0.7);                box-shadow: 0 0 20px rgba(0, 247, 255, 0.6);            }        }        /* ======================= MESSAGE BOX ======================= */        .message-box {            position: fixed;            top: 50%;            left: 50%;            transform: translate(-50%, -50%);            background: rgba(20, 30, 60, 0.95);            color: #e0f7ff;            border: 2px solid #00f7ff;            padding: 20px 30px;            border-radius: 12px;            box-shadow: 0 0 25px #00f7ff, 0 0 50px rgba(0, 247, 255, 0.5);            text-align: center;            z-index: 10000;            animation: fadeIn 0.3s ease-in-out;        }        .message-box button {            margin-top: 15px;            padding: 8px 18px;            background: #00f7ff;            border: none;            color: #0a0f1e;            font-weight: bold;            border-radius: 6px;            cursor: pointer;            box-shadow: 0 0 10px #00f7ff;            transition: all 0.2s ease-in-out;        }        .message-box button:hover {            background: #00cce7;            box-shadow: 0 0 15px #00eaff;        }        @keyframes fadeIn {            from {                opacity: 0;                transform: translate(-50%, -48%);            }            to {                opacity: 1;                transform: translate(-50%, -50%);            }        }        /* ======================= LEGEND ======================= */        .legend {            position: absolute;            top: 10px;            right: 10px;            background: rgba(20, 30, 60, 0.9);            padding: 15px;            border: 2px solid #00f7ff;            border-radius: 8px;            font-size: 11px;            color: #e0f7ff;            box-shadow: 0 0 20px rgba(0, 247, 255, 0.3);            z-index: 1000;        }        .legend div {            margin: 6px 0;        }        /* ======================= TABLE ======================= */        table {            width: 100%;            border-collapse: collapse;            table-layout: fixed;        }        th,        td {            border: 1px solid #ccc;            padding: 8px;            text-align: left;            overflow-x: auto;            overflow-y: hidden;            white-space: nowrap;            max-width: 150px;        }        td::-webkit-scrollbar {            height: 6px;        }        td::-webkit-scrollbar-thumb {            background: #888;            border-radius: 3px;        }        td::-webkit-scrollbar-track {            background: #f1f1f1;        }        #resultcnt {            display: inline-block;            font-size: 14px;            color: rgb(79, 187, 236);            margin-top: 10px;        }        /* ======================= REPORT PANEL ======================= */        #reportdate {            position: absolute;            top: 10px;            left: 10px;            font-size: 14px;            color: #00f7ff;            background: rgba(20, 30, 60, 0.85);            padding: 6px 14px;            border-radius: 8px;            font-family: "Orbitron", sans-serif;            letter-spacing: 1px;            border: 1px solid rgba(0, 247, 255, 0.6);            border-bottom: 3px solid transparent;            border-image: linear-gradient(to right, #ff004c, #007bff);            border-image-slice: 1;            text-shadow: 0 0 6px rgba(0, 247, 255, 0.9), 0 0 12px rgba(0, 247, 255, 0.6);            box-shadow: 0 0 12px rgba(0, 247, 255, 0.3);            z-index: 2000;            animation: flicker 2.5s infinite alternate;            cursor: pointer;            /* <-- add this line */        }        @keyframes flicker {            from {                opacity: 0.85;                text-shadow: 0 0 6px rgba(0, 247, 255, 0.6), 0 0 12px rgba(0, 247, 255, 0.3);                box-shadow: 0 0 10px rgba(0, 247, 255, 0.2);            }            to {                opacity: 1;                text-shadow: 0 0 12px rgba(0, 247, 255, 1), 0 0 20px rgba(0, 247, 255, 0.8);                box-shadow: 0 0 18px rgba(0, 247, 255, 0.5);            }        }        /* ======================= LOADING ======================= */        #loading {            display: none;            position: fixed;            top: 0;            left: 0;            width: 100%;            height: 100%;            background: rgba(255, 255, 255, 0.8);            z-index: 9999;            display: flex;            justify-content: center;            align-items: center;            flex-direction: column;        }        .spinner {            border: 6px solid #ddd;            border-top: 6px solid #333;            border-radius: 50%;            width: 40px;            height: 40px;            animation: spin 1s linear infinite;            margin-bottom: 10px;        }        @keyframes spin {            0% {                transform: rotate(0deg);            }            100% {                transform: rotate(360deg);            }        }        .text {            font-family: sans-serif;            color: #333;        }        /* ======================= INSTRUCTIONS MODAL ======================= */        #instructionsBtn {            position: absolute;            top: 10px;            right: 10px;            background: rgba(20, 30, 60, 0.9);            color: #00f7ff;            border: 1px solid rgba(0, 247, 255, 0.6);            border-radius: 50%;            width: 36px;            height: 36px;            font-size: 18px;            font-family: "Orbitron", sans-serif;            box-shadow: 0 0 10px rgba(0, 247, 255, 0.6);            cursor: pointer;            z-index: 2000;            transition: 0.3s;        }        #instructionsBtn:hover {            background: rgba(0, 247, 255, 0.2);            color: #fff;            transform: scale(1.1);        }        #instructionsBox {            display: none;            position: fixed;            top: 0;            left: 0;            width: 100%;            height: 100%;            background: rgba(0, 0, 0, 0.6);            z-index: 3000;            display: flex;            align-items: center;            justify-content: center;        }        .instructions-content {            background: rgba(20, 30, 60, 0.95);            padding: 20px 30px;            border-radius: 15px;            border: 1px solid rgba(0, 247, 255, 0.6);            box-shadow: 0 0 25px rgba(0, 247, 255, 0.7);            color: #00f7ff;            font-family: "Orbitron", sans-serif;            width: 400px;            max-width: 80%;            text-align: left;        }        .instructions-content h2 {            margin-bottom: 15px;            text-align: center;        }        .instructions-content ul {            margin-left: 20px;            margin-bottom: 20px;        }        .instructions-content button {            display: block;            margin: 0 auto;            padding: 6px 16px;            border-radius: 8px;            background: #00f7ff;            color: #141e3c;            font-family: "Orbitron", sans-serif;            cursor: pointer;            border: none;            transition: 0.3s;        }        .instructions-content button:hover {            background: #00c6d4;        }    </style></head><body><div id="reportdate"><strong>&#68;&#82;&#77;&#58;</strong>&#65;&#117;&#103;&#117;&#115;&#116;&#32;&#49;&#53;&#44;&#32;&#50;&#48;&#50;&#53;</div><div style="height: 20px; text-align: center; margin-top: 10px;"><h2>&#70;&#65;&#67;&#73;&#76;&#73;&#84;&#89;&#32;&#67;&#72;&#69;&#67;&#75;&#69;&#82;</h2></div><div class="input-container"><label class="input-label" for="locationInput">&#73;&#110;&#112;&#117;&#116;&#32;&#76;&#111;&#99;&#97;&#116;&#105;&#111;&#110;</label><input id="locationInput" placeholder="Enter address or latitude, longitude" type="text"/><button disabled="" id="showLocationBtn" onclick="processInput()">&#83;&#101;&#97;&#114;&#99;&#104;</button><button id="downloadCSV" onclick="exportTableToCSV('nearest_facility.csv')" style="display: none;">&#68;&#111;&#119;&#110;&#108;&#111;&#97;&#100;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#67;&#83;&#86;</button><span id="resultcnt" style="float: right;"></span></div><div id="loading"><div class="spinner"></div><div class="text">&#77;&#97;&#103;&#104;&#105;&#110;&#116;&#97;&#121;&#32;&#75;&#97;&#32;&#72;&#97;&#33;&#32;&#45;&#32;&#76;&#111;&#97;&#100;&#105;&#110;&#103;&#32;&#80;&#97;&#33;&#46;</div></div><div id="map"><div class="legend"><h4>&#76;&#101;&#103;&#101;&#110;&#100;&#58;<strong style="color: #cf26f1; font-size: 11px;">&#37;&#85;&#116;&#105;&#108;</strong></h4><div style="display: flex; flex-direction: column; gap: 4px; font-size: 14px;"><div style="font-size: 10px;"><span style="display: inline-block; width: 12px; height: 12px; background-color: blue; margin-right: 8px; border-radius: 50%;"></span>&#83;&#101;&#97;&#114;&#99;&#104;</div><div style="font-size: 10px;"><span style="display: inline-block; width: 12px; height: 12px; background-color: green; margin-right: 8px; border-radius: 50%;"></span>&#8804;&#32;&#50;&#53;&#37;</div><div style="font-size: 10px;"><span style="display: inline-block; width: 12px; height: 12px; background-color: yellow; margin-right: 8px; border-radius: 50%;"></span>&#8804;&#32;&#53;&#48;&#37;</div><div style="font-size: 10px;"><span style="display: inline-block; width: 12px; height: 12px; background-color: orange; margin-right: 8px; border-radius: 50%;"></span>&#8804;&#32;&#55;&#48;&#37;</div><div style="font-size: 10px;"><span style="display: inline-block; width: 12px; height: 12px; background-color: red; margin-right: 8px; border-radius: 50%;"></span>&#62;&#32;&#55;&#48;&#37;</div></div></div></div><br/><table id="resultTable" style="display:none;"><thead><tr><th>&#68;&#80;&#47;&#78;&#97;&#112;</th><th>&#67;&#97;&#98;&#105;&#110;&#101;&#116;</th><th>&#76;&#97;&#116;&#105;&#116;&#117;&#100;&#101;</th><th>&#76;&#111;&#110;&#103;&#105;&#116;&#117;&#100;&#101;</th><th>&#68;&#105;&#115;&#116;&#97;&#110;&#99;&#101;&#32;&#40;&#75;&#109;&#41;</th><th>&#83;&#101;&#108;&#108;&#97;&#98;&#108;&#101;&#76;&#105;&#110;&#101;&#115;</th><th>&#85;&#116;&#105;&#108;&#105;&#122;&#97;&#116;&#105;&#111;&#110;</th><th>&#67;&#97;&#98;&#32;&#84;&#121;&#112;&#101;</th><th>&#65;&#100;&#100;&#114;&#101;&#115;&#115;</th><th>&#66;&#108;&#100;&#103;&#32;&#78;&#97;&#109;&#101;</th><th>&#66;&#97;&#110;&#100;&#119;&#105;&#100;&#116;&#104;</th></tr></thead><tbody></tbody></table><button id="instructionsBtn">&#63;</button><div id="instructionsBox" style="display: none;"><div class="instructions-content"><h2>&#128214;&#32;&#70;&#97;&#99;&#105;&#108;&#105;&#116;&#121;&#32;&#67;&#104;&#101;&#99;&#107;&#101;&#114;&#32;&#73;&#110;&#115;&#116;&#114;&#117;&#99;&#116;&#105;&#111;&#110;&#115;</h2><ul><li>&#69;&#110;&#116;&#101;&#114;&#32;&#116;&#104;&#101;&#32;&#102;&#97;&#99;&#105;&#108;&#105;&#116;&#121;&#32;&#99;&#111;&#111;&#114;&#100;&#105;&#110;&#97;&#116;&#101;&#115;&#32;&#40;&#108;&#97;&#116;&#105;&#116;&#117;&#100;&#101;&#44;&#32;&#108;&#111;&#110;&#103;&#105;&#116;&#117;&#100;&#101;&#41;&#32;&#105;&#110;&#32;&#116;&#104;&#101;&#32;&#105;&#110;&#112;&#117;&#116;&#32;&#102;&#105;&#101;&#108;&#100;&#46;</li><li>&#67;&#104;&#111;&#111;&#115;&#101;&#32;&#116;&#104;&#101;&#32;&#116;&#121;&#112;&#101;&#32;&#111;&#102;&#32;&#99;&#97;&#98;&#105;&#110;&#101;&#116;&#32;&#40;&#73;&#110;&#100;&#111;&#111;&#114;&#32;&#47;&#32;&#79;&#117;&#116;&#100;&#111;&#111;&#114;&#41;&#46;</li><li>&#83;&#101;&#116;&#32;&#121;&#111;&#117;&#114;&#32;&#100;&#101;&#115;&#105;&#114;&#101;&#100;&#32;&#117;&#116;&#105;&#108;&#105;&#122;&#97;&#116;&#105;&#111;&#110;&#32;&#116;&#104;&#114;&#101;&#115;&#104;&#111;&#108;&#100;&#32;&#40;&#37;&#41;&#46;</li><li>&#67;&#108;&#105;&#99;&#107;<b>&#83;&#101;&#97;&#114;&#99;&#104;</b>&#116;&#111;&#32;&#99;&#104;&#101;&#99;&#107;&#32;&#97;&#118;&#97;&#105;&#108;&#97;&#98;&#108;&#101;&#32;&#110;&#101;&#97;&#114;&#98;&#121;&#32;&#102;&#97;&#99;&#105;&#108;&#105;&#116;&#105;&#101;&#115;&#46;</li><li>&#82;&#101;&#115;&#117;&#108;&#116;&#115;&#32;&#119;&#105;&#108;&#108;&#32;&#98;&#101;&#32;&#115;&#104;&#111;&#119;&#110;&#32;&#111;&#110;&#32;&#116;&#104;&#101;&#32;&#109;&#97;&#112;&#32;&#119;&#105;&#116;&#104;&#32;&#99;&#111;&#108;&#111;&#114;&#45;&#99;&#111;&#100;&#101;&#100;&#32;&#117;&#116;&#105;&#108;&#105;&#122;&#97;&#116;&#105;&#111;&#110;&#46;</li></ul><button onclick="closeInstructions()">&#67;&#108;&#111;&#115;&#101;</button></div></div><div id="messageBox" style="display: none;"><h2>&#77;&#101;&#115;&#115;&#97;&#103;&#101;</h2><p id="messageContent"></p><button onclick="closeMessageBox()">&#79;&#75;</button></div><div id="watermark">&#67;&#114;&#101;&#97;&#116;&#101;&#100;&#32;&#66;&#121;&#58;<strong>&#83;&#111;&#110;&#110;&#121;&#32;&#79;&#114;&#116;&#105;&#122;</strong> </div><script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script><script>var a0_0xc5b5a6=a0_0x35a6;(function(_0x207862,_0x111cb6){var _0x4d1e2a=a0_0x35a6,_0x4691d8=_0x207862();while(!![]){try{var _0x2e1adc=parseInt(_0x4d1e2a(0x186))/0x1*(-parseInt(_0x4d1e2a(0x1b3))/0x2)+-parseInt(_0x4d1e2a(0x18b))/0x3*(parseInt(_0x4d1e2a(0x17b))/0x4)+parseInt(_0x4d1e2a(0x1ce))/0x5+parseInt(_0x4d1e2a(0x1c1))/0x6+-parseInt(_0x4d1e2a(0x179))/0x7*(-parseInt(_0x4d1e2a(0x1c0))/0x8)+parseInt(_0x4d1e2a(0x156))/0x9*(-parseInt(_0x4d1e2a(0x17a))/0xa)+-parseInt(_0x4d1e2a(0x17e))/0xb*(-parseInt(_0x4d1e2a(0x169))/0xc);if(_0x2e1adc===_0x111cb6)break;else _0x4691d8['push'](_0x4691d8['shift']());}catch(_0x323fad){_0x4691d8['push'](_0x4691d8['shift']());}}}(a0_0x48e3,0x52dfd));function a0_0x35a6(_0x4839d0,_0x4248d2){var _0x4c4c60=a0_0x48e3();return a0_0x35a6=function(_0x5495ae,_0x445d53){_0x5495ae=_0x5495ae-0x14a;var _0x48e380=_0x4c4c60[_0x5495ae];return _0x48e380;},a0_0x35a6(_0x4839d0,_0x4248d2);}var map=L[a0_0xc5b5a6(0x150)](a0_0xc5b5a6(0x150))['setView']([51.505,-0.09],0x10);L[a0_0xc5b5a6(0x191)](a0_0xc5b5a6(0x1ba),{'attribution':a0_0xc5b5a6(0x14e)})[a0_0xc5b5a6(0x1ae)](map);var allLocations=[],markers=[],encodedurl='aXV1cXQ7MDBlcGR0L2hwcGhtZi9kcG4wdHFzZmJldGlmZnV0MGUwZjAzUUJEWS4yd1IyM3U1Y1ZWVzExZHBHQndkc1VRMnVwbUR3LjFHQ1dZeWZrMnhyTlhMUzlYcToxRWVEbHhIeTZnZUV7W3RJNTlIMUI6M3txVGNMbjI1cDBxdmNAcHZ1cXZ1PmR0dw==',decodedurl=decodeshift_base64(encodedurl);function loadCSVData(){Papa['parse'](decodedurl,{'download':!![],'header':!![],'complete':function(_0x626312){var _0x167157=a0_0x35a6;allLocations=_0x626312[_0x167157(0x1b8)],console[_0x167157(0x182)](_0x167157(0x192),allLocations),MessageBox(_0x167157(0x162)),document[_0x167157(0x1c6)](_0x167157(0x161))[_0x167157(0x19f)]=![],document[_0x167157(0x1c6)]('loading')[_0x167157(0x1a8)][_0x167157(0x189)]=_0x167157(0x185);},'error':function(_0x344229){var _0x5620b3=a0_0x35a6;console[_0x5620b3(0x181)](_0x5620b3(0x1d1),_0x344229),MessageBox(_0x5620b3(0x1a1)),document[_0x5620b3(0x1c6)](_0x5620b3(0x161))[_0x5620b3(0x19f)]=![];}});}function clearPreviousData(){var _0x28a7fa=a0_0xc5b5a6;markers[_0x28a7fa(0x16f)](function(_0x4f26b6){var _0x42c58f=_0x28a7fa;map[_0x42c58f(0x1ac)](_0x4f26b6);}),markers=[];var _0x6eb6f2=document[_0x28a7fa(0x18d)]('#resultTable\x20tbody');_0x6eb6f2[_0x28a7fa(0x16c)]='',document[_0x28a7fa(0x1c6)](_0x28a7fa(0x195))[_0x28a7fa(0x1a8)][_0x28a7fa(0x189)]='none',document[_0x28a7fa(0x1c6)](_0x28a7fa(0x1cf))[_0x28a7fa(0x1a8)][_0x28a7fa(0x189)]='none',document[_0x28a7fa(0x1c6)](_0x28a7fa(0x1b2))[_0x28a7fa(0x1a8)]['display']='none';}function processInput(){var _0x198433=a0_0xc5b5a6;let _0x527cef=document[_0x198433(0x1c6)](_0x198433(0x194))[_0x198433(0x15b)][_0x198433(0x15d)]();if(/^-?\d+(\.\d+)?[ ,]+-?\d+(\.\d+)?$/[_0x198433(0x198)](_0x527cef)){let [_0x1d54f0,_0x500a70]=_0x527cef[_0x198433(0x152)](/[ ,]+/)[_0x198433(0x150)](Number);updateMap(_0x1d54f0,_0x500a70);}else fetch(_0x198433(0x1ab)+encodeURIComponent(_0x527cef))[_0x198433(0x15f)](_0x35e802=>_0x35e802[_0x198433(0x193)]())['then'](_0x224cf7=>{var _0x263c43=_0x198433;if(_0x224cf7['length']>0x0){let {lat:_0x35ae5,lon:_0x40cd00}=_0x224cf7[0x0];updateMap(parseFloat(_0x35ae5),parseFloat(_0x40cd00));}else clearPreviousData(),MessageBox(_0x263c43(0x173));})['catch'](()=>MessageBox(_0x198433(0x167)));}function updateMap(_0x24fad4,_0x1de8af){var _0x5c9dcb=a0_0xc5b5a6,_0x54e98c=document[_0x5c9dcb(0x1c6)](_0x5c9dcb(0x161)),_0x3feef9=document[_0x5c9dcb(0x1c6)]('loading'),_0x7e8e73=document[_0x5c9dcb(0x1c6)]('resultcnt'),_0x31c37a=document['getElementById'](_0x5c9dcb(0x195));document[_0x5c9dcb(0x1c6)](_0x5c9dcb(0x195)),!isNaN(_0x24fad4)&&!isNaN(_0x1de8af)?(_0x54e98c[_0x5c9dcb(0x19f)]=!![],_0x31c37a[_0x5c9dcb(0x1a8)][_0x5c9dcb(0x189)]=_0x5c9dcb(0x185),showLoading(_0x5c9dcb(0x16d)),setTimeout(()=>{var _0x153827=_0x5c9dcb;clearPreviousData(),map[_0x153827(0x14b)]([_0x24fad4,_0x1de8af],0x10);var _0x1f7ce9=L[_0x153827(0x1b7)]([_0x24fad4,_0x1de8af],{'radius':0xa,'color':_0x153827(0x197),'fillColor':_0x153827(0x197),'fillOpacity':0.3})['addTo'](map)['bindPopup'](_0x153827(0x1a2)+_0x24fad4+',\x20'+_0x1de8af)[_0x153827(0x1d6)]();markers[_0x153827(0x14c)](_0x1f7ce9);var _0x274eca=findNearbyLocations(_0x24fad4,_0x1de8af,0xc8);updateTable(_0x274eca),addMarkersToMap(_0x274eca),hideLoading(),_0x54e98c['disabled']=![],_0x274eca[_0x153827(0x1a7)]===0x0?MessageBox(_0x153827(0x19d)):(_0x7e8e73[_0x153827(0x15e)]=_0x274eca[_0x153827(0x1a7)]+'\x20nearby\x20facility\x20found!',_0x7e8e73['style'][_0x153827(0x189)]='inline-block',MessageBox(_0x274eca[_0x153827(0x1a7)]+_0x153827(0x1ca)));},0x64)):MessageBox(_0x5c9dcb(0x187));}function calculateDistance(_0x48eb32,_0xc08b8b,_0x73a821,_0x12dedb){var _0x406e13=a0_0xc5b5a6,_0x59adda=0x6136b8,_0x13a5ae=_0x48eb32*Math['PI']/0xb4,_0x51b011=_0x73a821*Math['PI']/0xb4,_0x4d4cda=(_0x73a821-_0x48eb32)*Math['PI']/0xb4,_0x4c542c=(_0x12dedb-_0xc08b8b)*Math['PI']/0xb4,_0x324877=Math[_0x406e13(0x17d)](_0x4d4cda/0x2)*Math[_0x406e13(0x17d)](_0x4d4cda/0x2)+Math[_0x406e13(0x1c5)](_0x13a5ae)*Math[_0x406e13(0x1c5)](_0x51b011)*Math[_0x406e13(0x17d)](_0x4c542c/0x2)*Math[_0x406e13(0x17d)](_0x4c542c/0x2),_0x52c967=0x2*Math[_0x406e13(0x159)](Math[_0x406e13(0x1d7)](_0x324877),Math[_0x406e13(0x1d7)](0x1-_0x324877)),_0x2bf63d=_0x59adda*_0x52c967;return _0x2bf63d;}function findNearbyLocations(_0x4eefbb,_0x54461e,_0x315fb9){var _0x21aaf8=a0_0xc5b5a6;console[_0x21aaf8(0x182)](_0x21aaf8(0x14a),_0x4eefbb,_0x54461e,_0x21aaf8(0x1cd),_0x315fb9,_0x21aaf8(0x1b0));var _0x529a6a=[];return allLocations['forEach'](function(_0x7409de,_0x5e3930){var _0x390f85=_0x21aaf8,_0x197c71=parseFloat(_0x7409de[_0x390f85(0x1aa)]),_0x3791dc=parseFloat(_0x7409de[_0x390f85(0x176)]);console[_0x390f85(0x182)]('üîç\x20Checking\x20location\x20'+_0x5e3930+':',_0x7409de[_0x390f85(0x1a0)],_0x197c71,_0x3791dc);if(!isNaN(_0x197c71)&&!isNaN(_0x3791dc)){var _0x2a5f0e=calculateDistance(_0x4eefbb,_0x54461e,_0x197c71,_0x3791dc);console[_0x390f85(0x182)](_0x390f85(0x1bc)+_0x7409de['name']+':',_0x2a5f0e,'meters'),_0x2a5f0e<=_0x315fb9&&_0x529a6a[_0x390f85(0x14c)]({..._0x7409de,'distance':_0x2a5f0e});}else console['warn'](_0x390f85(0x1a9),_0x7409de);}),_0x529a6a[_0x21aaf8(0x172)](function(_0x3ab6a2,_0x4aeb09){var _0x39df86=_0x21aaf8;return _0x3ab6a2[_0x39df86(0x1af)]-_0x4aeb09[_0x39df86(0x1af)];}),console['log']('‚úÖ\x20Nearby\x20Locations\x20Found:',_0x529a6a[_0x21aaf8(0x1a7)]),_0x529a6a[_0x21aaf8(0x1bb)](0x0,0x3e8);}function updateTable(_0x32d040){var _0x494a28=a0_0xc5b5a6;document[_0x494a28(0x1c6)](_0x494a28(0x1cf))['style'][_0x494a28(0x189)]=_0x494a28(0x184);var _0xfeb9f3=document[_0x494a28(0x18d)](_0x494a28(0x155)),_0x8654a5=document[_0x494a28(0x1c6)](_0x494a28(0x195));_0xfeb9f3[_0x494a28(0x16c)]='';if(_0x32d040['length']===0x0){_0x8654a5['style'][_0x494a28(0x189)]=_0x494a28(0x185);return;}_0x32d040[_0x494a28(0x16f)](function(_0x5ce4c0){var _0x2a0dc7=_0x494a28,_0x3f3a9f=document[_0x2a0dc7(0x1a3)]('tr'),_0x4b6e87=document['createElement']('td');_0x4b6e87[_0x2a0dc7(0x15e)]=_0x5ce4c0['dp']||_0x2a0dc7(0x19a),_0x3f3a9f[_0x2a0dc7(0x180)](_0x4b6e87);var _0x12fc85=document[_0x2a0dc7(0x1a3)]('td');_0x12fc85[_0x2a0dc7(0x15e)]=_0x5ce4c0[_0x2a0dc7(0x163)]||_0x2a0dc7(0x19a),_0x3f3a9f[_0x2a0dc7(0x180)](_0x12fc85);var _0xee2490=document['createElement']('td');_0xee2490['textContent']=_0x5ce4c0[_0x2a0dc7(0x1aa)],_0x3f3a9f[_0x2a0dc7(0x180)](_0xee2490);var _0x3878e9=document[_0x2a0dc7(0x1a3)]('td');_0x3878e9[_0x2a0dc7(0x15e)]=_0x5ce4c0['longitude'],_0x3f3a9f[_0x2a0dc7(0x180)](_0x3878e9);var _0x24929e=document['createElement']('td');_0x24929e[_0x2a0dc7(0x15e)]=(_0x5ce4c0['distance']/0x3e8)['toFixed'](0x2)+_0x2a0dc7(0x1c4),_0x3f3a9f[_0x2a0dc7(0x180)](_0x24929e);var _0x1c5cb4=document[_0x2a0dc7(0x1a3)]('td');_0x1c5cb4[_0x2a0dc7(0x15e)]=_0x5ce4c0[_0x2a0dc7(0x177)]||_0x2a0dc7(0x19a),_0x3f3a9f[_0x2a0dc7(0x180)](_0x1c5cb4);var _0x4b9459=document[_0x2a0dc7(0x1a3)]('td');_0x5ce4c0[_0x2a0dc7(0x160)]?_0x4b9459[_0x2a0dc7(0x15e)]=(_0x5ce4c0[_0x2a0dc7(0x160)]*0x64)[_0x2a0dc7(0x1b4)](0x2)+'%':_0x4b9459[_0x2a0dc7(0x15e)]=_0x2a0dc7(0x19a);_0x3f3a9f['appendChild'](_0x4b9459);var _0x57f488=document[_0x2a0dc7(0x1a3)]('td');_0x57f488['textContent']=_0x5ce4c0[_0x2a0dc7(0x153)]||_0x2a0dc7(0x19a),_0x3f3a9f['appendChild'](_0x57f488);var _0x5a0e62=document[_0x2a0dc7(0x1a3)]('td');_0x5a0e62[_0x2a0dc7(0x15e)]=_0x5ce4c0[_0x2a0dc7(0x1cc)]||_0x2a0dc7(0x19a),_0x3f3a9f['appendChild'](_0x5a0e62);var _0x2f88df=document[_0x2a0dc7(0x1a3)]('td');_0x2f88df[_0x2a0dc7(0x15e)]=_0x5ce4c0[_0x2a0dc7(0x164)]||'N/A',_0x3f3a9f[_0x2a0dc7(0x180)](_0x2f88df);var _0x80fefb=document[_0x2a0dc7(0x1a3)]('td');_0x80fefb['textContent']=_0x5ce4c0['final\x20mbps']||'N/A',_0x3f3a9f[_0x2a0dc7(0x180)](_0x80fefb),_0xfeb9f3['appendChild'](_0x3f3a9f);}),_0x8654a5['style'][_0x494a28(0x189)]=_0x494a28(0x16e);}function addMarkersToMap(_0x42034e){var _0x2d81e7=a0_0xc5b5a6;fetch(_0x2d81e7(0x1ad),{'method':_0x2d81e7(0x1bd),'mode':_0x2d81e7(0x1b5),'headers':{'Content-Type':_0x2d81e7(0x1cb)},'body':JSON['stringify']({'timestamp':new Date()[_0x2d81e7(0x174)](),'userAgent':navigator[_0x2d81e7(0x18f)],'referrer':document[_0x2d81e7(0x18a)],'page':location['href']})}),_0x42034e[_0x2d81e7(0x16f)](function(_0x380a0f){var _0x338ad1=_0x2d81e7,_0x457c64=parseFloat(_0x380a0f[_0x338ad1(0x160)]),_0x2953ac;if(_0x457c64<=0.25)_0x2953ac=_0x338ad1(0x1d4);else{if(_0x457c64<=0.5)_0x2953ac=_0x338ad1(0x183);else _0x457c64<=0.7?_0x2953ac=_0x338ad1(0x14f):_0x2953ac=_0x338ad1(0x14d);}var _0x1be4ab=L['circleMarker']([_0x380a0f[_0x338ad1(0x1aa)],_0x380a0f[_0x338ad1(0x176)]],{'color':_0x2953ac,'fillColor':_0x2953ac,'fillOpacity':0.5,'radius':0xa})[_0x338ad1(0x1ae)](map)[_0x338ad1(0x190)](_0x338ad1(0x1a4)+_0x380a0f['dp']+_0x338ad1(0x1c8)+_0x380a0f[_0x338ad1(0x1aa)]+_0x338ad1(0x1c3)+_0x380a0f[_0x338ad1(0x176)]);markers[_0x338ad1(0x14c)](_0x1be4ab);});}function exportTableToCSV(_0xef1a6d){var _0x4877c0=a0_0xc5b5a6,_0x2c69b5=[],_0x3d2635=document['querySelectorAll'](_0x4877c0(0x175));for(var _0x4fbc59=0x0;_0x4fbc59<_0x3d2635[_0x4877c0(0x1a7)];_0x4fbc59++){var _0x4c6e72=[],_0x279645=_0x3d2635[_0x4fbc59][_0x4877c0(0x158)](_0x4877c0(0x17f));for(var _0x3837de=0x0;_0x3837de<_0x279645[_0x4877c0(0x1a7)];_0x3837de++){_0x4c6e72[_0x4877c0(0x14c)]('\x22'+_0x279645[_0x3837de][_0x4877c0(0x154)]+'\x22');}_0x2c69b5[_0x4877c0(0x14c)](_0x4c6e72['join'](','));}var _0x5d6014=new Blob([_0x2c69b5['join']('\x0a')],{'type':_0x4877c0(0x19e)}),_0x2d0729=document[_0x4877c0(0x1a3)]('a');_0x2d0729[_0x4877c0(0x166)]=URL['createObjectURL'](_0x5d6014),_0x2d0729[_0x4877c0(0x17c)]=_0xef1a6d,document['body'][_0x4877c0(0x180)](_0x2d0729),_0x2d0729[_0x4877c0(0x157)](),document[_0x4877c0(0x1b9)][_0x4877c0(0x1bf)](_0x2d0729);}window['onload']=loadCSVData;const isEmbedded=window!==window[a0_0xc5b5a6(0x199)];if(!isEmbedded){const allowedPatterns=[/^https?:\/\/127\.0\.0\.1:5500\/HTML_FACILITY_CHECK(\/.*)?$/,/^https?:\/\/localhost:5500\/HTML_FACILITY_CHECK(\/.*)?$/],isAllowed=allowedPatterns[a0_0xc5b5a6(0x1d0)](_0x5a533a=>_0x5a533a[a0_0xc5b5a6(0x198)](location[a0_0xc5b5a6(0x166)]));}else console['warn']('Running\x20in\x20embedded\x20mode\x20‚Äì\x20skipping\x20URL\x20check.');function generateFingerprint(){var _0x92fad2=a0_0xc5b5a6,_0x5f06fa=(function(){var _0xc05fa5=!![];return function(_0x230a25,_0x3ba6ed){var _0x4bb218=_0xc05fa5?function(){var _0xf60654=a0_0x35a6;if(_0x3ba6ed){var _0x48206e=_0x3ba6ed[_0xf60654(0x15c)](_0x230a25,arguments);return _0x3ba6ed=null,_0x48206e;}}:function(){};return _0xc05fa5=![],_0x4bb218;};}()),_0x456ab4=_0x5f06fa(this,function(){var _0x408ad5=a0_0x35a6;return _0x456ab4['toString']()[_0x408ad5(0x16a)](_0x408ad5(0x1c2))[_0x408ad5(0x188)]()['constructor'](_0x456ab4)[_0x408ad5(0x16a)](_0x408ad5(0x1c2));});return _0x456ab4(),btoa(navigator[_0x92fad2(0x18f)]+navigator[_0x92fad2(0x165)]+screen[_0x92fad2(0x178)]+screen['height']);}var encodedscript=a0_0xc5b5a6(0x1c7),decodedscript=decodeshift_base64(encodedscript);fetch(decodedscript,{'method':a0_0xc5b5a6(0x1bd),'mode':a0_0xc5b5a6(0x1b5),'headers':{'Content-Type':a0_0xc5b5a6(0x1cb)},'body':JSON[a0_0xc5b5a6(0x1a5)]({'timestamp':new Date()[a0_0xc5b5a6(0x174)](),'userAgent':navigator[a0_0xc5b5a6(0x18f)],'referrer':document[a0_0xc5b5a6(0x18a)],'page':location['href'],'fingerprint':generateFingerprint(),'sheetName':'Ortiz\x20Facility\x20Checker\x20Logs'})});function shiftText(_0x3ef133,_0x144a44){var _0x417231=a0_0xc5b5a6;if(typeof _0x3ef133!=='string')return'';let _0x17469e='';for(let _0x3480d9=0x0;_0x3480d9<_0x3ef133[_0x417231(0x1a7)];_0x3480d9++){let _0x41a1b3=_0x3ef133[_0x417231(0x18e)](_0x3480d9);_0x17469e+=String[_0x417231(0x1b6)](_0x41a1b3+_0x144a44);}return _0x17469e;}function decodeshift_base64(_0xa6c565){var _0xcfeafc=a0_0xc5b5a6;try{const _0x1c34fe=atob(_0xa6c565),_0x1e3cd6=shiftText(_0x1c34fe,-0x1);return _0x1e3cd6;}catch(_0x546ad7){return alert(_0xcfeafc(0x196)),'';}}function MessageBox(_0x104659){var _0x5adac7=a0_0xc5b5a6;const _0x5eab57=document[_0x5adac7(0x1a3)](_0x5adac7(0x1d5));_0x5eab57[_0x5adac7(0x19b)]=_0x5adac7(0x1be),_0x5eab57[_0x5adac7(0x16c)]='<p>'+_0x104659+_0x5adac7(0x168),document['body'][_0x5adac7(0x180)](_0x5eab57);}function closeMessageBox(){var _0x328139=a0_0xc5b5a6;document[_0x328139(0x1c6)](_0x328139(0x16b))['style'][_0x328139(0x189)]='none';}function closeInstructions(){var _0x2dc904=a0_0xc5b5a6;document[_0x2dc904(0x1c6)](_0x2dc904(0x171))[_0x2dc904(0x1a8)][_0x2dc904(0x189)]=_0x2dc904(0x185);}document['getElementById'](a0_0xc5b5a6(0x19c))[a0_0xc5b5a6(0x170)]=function(){var _0x46d4d8=a0_0xc5b5a6;document[_0x46d4d8(0x1c6)](_0x46d4d8(0x171))['style'][_0x46d4d8(0x189)]=_0x46d4d8(0x151);};function a0_0x48e3(){var _0x3aa616=['Input\x20box\x20with\x20id\x20\x22locationInput\x22\x20not\x20found.','green','div','openPopup','sqrt','üìç\x20Searching\x20for\x20locations\x20near:','setView','push','red','&copy;\x20<a\x20href=\x22https://www.openstreetmap.org/copyright\x22>OpenStreetMap</a>\x20contributors','orange','map','flex','split','cab_dp_type','innerText','#resultTable\x20tbody','225feWVSD','click','querySelectorAll','atan2','geolocation','value','apply','trim','textContent','then','dp\x20util','showLocationBtn','Data\x20Loaded\x20Successfully!','cabinet','building\x20served','language','href','Geocoding\x20error.','</p><button\x20onclick=\x22this.parentElement.remove()\x22>OK</button>','13966536jOJfao','search','messageBox','innerHTML','Searching\x20nearby\x20facilities.','inline-block','forEach','onclick','instructionsBox','sort','Address\x20not\x20found.','toISOString','#resultTable\x20tr','longitude','dp\x20sellable\x20lines','width','637MepsqX','251480hDJiIO','42292zYCJAs','download','sin','11yXRsri','td,\x20th','appendChild','error','log','yellow','table','none','10198WdVIKh','Please\x20enter\x20valid\x20latitude\x20and\x20longitude\x20values.','toString','display','referrer','120RGznrx','Geolocation\x20is\x20not\x20supported\x20by\x20your\x20browser.','querySelector','charCodeAt','userAgent','bindPopup','tileLayer','‚úÖ\x20Data\x20Loaded:','json','locationInput','downloadCSV','Invalid\x20Base64\x20string!','blue','test','top','N/A','className','instructionsBtn','No\x20nearby\x20facility\x20found\x20within\x20the\x20radius.','text/csv','disabled','name','Error\x20Loading\x20Data!','<b>Search\x20Location:\x20</b>\x20','createElement','<b>','stringify','coords','length','style','‚ö†Ô∏è\x20Skipping\x20invalid\x20location:','latitude','https://nominatim.openstreetmap.org/search?format=json&q=','removeLayer','https://script.google.com/macros/s/AKfycbzfFpeke4qAaX7PNpaew_v70e7367LokEaSsEsl2pUPQBbPydVXhq_VaSXtwBgMmysw6g/exec','addTo','distance','meters','getCurrentPosition','resultcnt','44jmtEQr','toFixed','no-cors','fromCharCode','circleMarker','data','body','https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png','slice','üìè\x20Distance\x20to\x20','POST','message-box','removeChild','15568EFjcyj','1447728fDkwUZ','(((.+)+)+)+$','<br>Lng:\x20','\x20km','cos','getElementById','aXV1cXQ7MDB0ZHNqcXUvaHBwaG1mL2RwbjBuYmRzcHQwdDBCTGd6ZGN6V1MuNkx2YGtQYnMza1lCemJ6SDRqe2VUOFBQRC5GbnFYYDR7YEl5MWAuY3YxVDNRSW57QkdNa1s5VlRnLjpqYnJNeDBmeWZk','</b><br>Lat:\x20','message','\x20nearby\x20facility\x20found!','application/json','location','within','165885MbHTSQ','resultTable','some','‚ùå\x20Error\x20Loading\x20Data:','reportdate'];a0_0x48e3=function(){return _0x3aa616;};return a0_0x48e3();}function showLoading(_0x4f0706='Loading...'){var _0x18714b=a0_0xc5b5a6;loading['querySelector']('.text')[_0x18714b(0x15e)]=_0x4f0706,loading['style'][_0x18714b(0x189)]=_0x18714b(0x151);}function hideLoading(){loading['style']['display']='none';}document[a0_0xc5b5a6(0x1c6)](a0_0xc5b5a6(0x1d2))['addEventListener'](a0_0xc5b5a6(0x157),()=>{var _0x366cfb=a0_0xc5b5a6;navigator[_0x366cfb(0x15a)]?navigator[_0x366cfb(0x15a)][_0x366cfb(0x1b1)](_0x2ce295=>{var _0x581c97=_0x366cfb;const _0x48ee29=_0x2ce295['coords'][_0x581c97(0x1aa)][_0x581c97(0x1b4)](0x6),_0x378e7e=_0x2ce295[_0x581c97(0x1a6)][_0x581c97(0x176)]['toFixed'](0x6),_0xa5129e=document[_0x581c97(0x1c6)](_0x581c97(0x194));_0xa5129e?_0xa5129e[_0x581c97(0x15b)]=_0x48ee29+',\x20'+_0x378e7e:console['warn'](_0x581c97(0x1d3));},_0x24f698=>{var _0x37598a=_0x366cfb;alert('Unable\x20to\x20retrieve\x20your\x20location.\x20Error:\x20'+_0x24f698[_0x37598a(0x1c9)]);},{'enableHighAccuracy':!![],'timeout':0x1388,'maximumAge':0x0}):alert(_0x366cfb(0x18c));});</script></body></html>
