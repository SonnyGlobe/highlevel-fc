<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><title>Ortiz Facility Checker</title><link href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" rel="stylesheet"/><script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script><style>        /* ======================= BASE ======================= */        body {            width: 100%;            font-family: 'Orbitron', sans-serif;            background-color: #0a0f1e;            color: #e0e6f0;            margin: 0;            padding: 0;        }        #map {            width: 100%;            height: 500px;            position: relative;        }        /* ======================= INPUTS ======================= */        .input-label {            margin-left: 10px;            display: inline-block;        }        .input-container {            margin: 20px 0;        }        label,        input {            margin-right: 10px;        }        input[type="text"] {            width: 350px;            height: 20px;        }        button {            padding: 8px 12px;            border-radius: 6px;            border: none;            cursor: pointer;            background: #1976d2;            color: #fff;            transition: 0.2s;        }        button.secondary {            background: #4CAF50;        }        button:disabled {            background-color: #3a4e5f;            cursor: not-allowed;        }        /* ======================= WATERMARK ======================= */        #watermark {            position: fixed;            bottom: 10px;            right: 10px;            font-size: 14px;            color: #00f7ff;            background: rgba(20, 30, 60, 0.85);            padding: 6px 14px;            border-radius: 10px;            border: 1px solid rgba(0, 247, 255, 0.6);            font-family: "Orbitron", sans-serif;            letter-spacing: 1px;            box-shadow: 0 0 15px rgba(0, 247, 255, 0.4);            text-shadow: 0 0 6px rgba(0, 247, 255, 0.9), 0 0 12px rgba(0, 247, 255, 0.6);            z-index: 1500;            animation: watermarkGlow 3s infinite alternate;        }        @keyframes watermarkGlow {            from {                text-shadow: 0 0 6px rgba(0, 247, 255, 0.6), 0 0 12px rgba(0, 247, 255, 0.3);                box-shadow: 0 0 10px rgba(0, 247, 255, 0.2);            }            to {                text-shadow: 0 0 12px rgba(0, 247, 255, 1), 0 0 20px rgba(0, 247, 255, 0.7);                box-shadow: 0 0 20px rgba(0, 247, 255, 0.6);            }        }        /* ======================= MESSAGE BOX ======================= */        .message-box {            position: fixed;            top: 50%;            left: 50%;            transform: translate(-50%, -50%);            background: rgba(20, 30, 60, 0.95);            color: #e0f7ff;            border: 2px solid #00f7ff;            padding: 20px 30px;            border-radius: 12px;            box-shadow: 0 0 25px #00f7ff, 0 0 50px rgba(0, 247, 255, 0.5);            text-align: center;            z-index: 10000;            animation: fadeIn 0.3s ease-in-out;        }        .message-box button {            margin-top: 15px;            padding: 8px 18px;            background: #00f7ff;            border: none;            color: #0a0f1e;            font-weight: bold;            border-radius: 6px;            cursor: pointer;            box-shadow: 0 0 10px #00f7ff;            transition: all 0.2s ease-in-out;        }        .message-box button:hover {            background: #00cce7;            box-shadow: 0 0 15px #00eaff;        }        @keyframes fadeIn {            from {                opacity: 0;                transform: translate(-50%, -48%);            }            to {                opacity: 1;                transform: translate(-50%, -50%);            }        }        /* ======================= LEGEND ======================= */        .legend {            position: absolute;            top: 10px;            right: 10px;            background: rgba(20, 30, 60, 0.9);            padding: 15px;            border: 2px solid #00f7ff;            border-radius: 8px;            font-size: 11px;            color: #e0f7ff;            box-shadow: 0 0 20px rgba(0, 247, 255, 0.3);            z-index: 1000;        }        .legend div {            margin: 6px 0;        }        /* ======================= TABLE ======================= */        table {            width: 100%;            border-collapse: collapse;            table-layout: fixed;        }        th,        td {            border: 1px solid #ccc;            padding: 8px;            text-align: left;            overflow-x: auto;            overflow-y: hidden;            white-space: nowrap;            max-width: 150px;        }        td::-webkit-scrollbar {            height: 6px;        }        td::-webkit-scrollbar-thumb {            background: #888;            border-radius: 3px;        }        td::-webkit-scrollbar-track {            background: #f1f1f1;        }        #resultcnt {            display: inline-block;            font-size: 14px;            color: rgb(79, 187, 236);            margin-top: 10px;        }        /* ======================= REPORT PANEL ======================= */        #reportdate {            position: absolute;            top: 10px;            left: 10px;            font-size: 14px;            color: #00f7ff;            background: rgba(20, 30, 60, 0.85);            padding: 6px 14px;            border-radius: 8px;            font-family: "Orbitron", sans-serif;            letter-spacing: 1px;            border: 1px solid rgba(0, 247, 255, 0.6);            border-bottom: 3px solid transparent;            border-image: linear-gradient(to right, #ff004c, #007bff);            border-image-slice: 1;            text-shadow: 0 0 6px rgba(0, 247, 255, 0.9), 0 0 12px rgba(0, 247, 255, 0.6);            box-shadow: 0 0 12px rgba(0, 247, 255, 0.3);            z-index: 2000;            animation: flicker 2.5s infinite alternate;            cursor: pointer;            /* <-- add this line */        }        @keyframes flicker {            from {                opacity: 0.85;                text-shadow: 0 0 6px rgba(0, 247, 255, 0.6), 0 0 12px rgba(0, 247, 255, 0.3);                box-shadow: 0 0 10px rgba(0, 247, 255, 0.2);            }            to {                opacity: 1;                text-shadow: 0 0 12px rgba(0, 247, 255, 1), 0 0 20px rgba(0, 247, 255, 0.8);                box-shadow: 0 0 18px rgba(0, 247, 255, 0.5);            }        }        /* ======================= LOADING ======================= */        #loading {            display: none;            position: fixed;            top: 0;            left: 0;            width: 100%;            height: 100%;            background: rgba(255, 255, 255, 0.8);            z-index: 9999;            display: flex;            justify-content: center;            align-items: center;            flex-direction: column;        }        .spinner {            border: 6px solid #ddd;            border-top: 6px solid #333;            border-radius: 50%;            width: 40px;            height: 40px;            animation: spin 1s linear infinite;            margin-bottom: 10px;        }        @keyframes spin {            0% {                transform: rotate(0deg);            }            100% {                transform: rotate(360deg);            }        }        .text {            font-family: sans-serif;            color: #333;        }        /* ======================= INSTRUCTIONS MODAL ======================= */        #instructionsBtn {            position: absolute;            top: 10px;            right: 10px;            background: rgba(20, 30, 60, 0.9);            color: #00f7ff;            border: 1px solid rgba(0, 247, 255, 0.6);            border-radius: 50%;            width: 36px;            height: 36px;            font-size: 18px;            font-family: "Orbitron", sans-serif;            box-shadow: 0 0 10px rgba(0, 247, 255, 0.6);            cursor: pointer;            z-index: 2000;            transition: 0.3s;        }        #instructionsBtn:hover {            background: rgba(0, 247, 255, 0.2);            color: #fff;            transform: scale(1.1);        }        #instructionsBox {            display: none;            position: fixed;            top: 0;            left: 0;            width: 100%;            height: 100%;            background: rgba(0, 0, 0, 0.6);            z-index: 3000;            display: flex;            align-items: center;            justify-content: center;        }        .instructions-content {            background: rgba(20, 30, 60, 0.95);            padding: 20px 30px;            border-radius: 15px;            border: 1px solid rgba(0, 247, 255, 0.6);            box-shadow: 0 0 25px rgba(0, 247, 255, 0.7);            color: #00f7ff;            font-family: "Orbitron", sans-serif;            width: 400px;            max-width: 80%;            text-align: left;        }        .instructions-content h2 {            margin-bottom: 15px;            text-align: center;        }        .instructions-content ul {            margin-left: 20px;            margin-bottom: 20px;        }        .instructions-content button {            display: block;            margin: 0 auto;            padding: 6px 16px;            border-radius: 8px;            background: #00f7ff;            color: #141e3c;            font-family: "Orbitron", sans-serif;            cursor: pointer;            border: none;            transition: 0.3s;        }        .instructions-content button:hover {            background: #00c6d4;        }    </style></head><body><div id="reportdate"><strong>&#68;&#82;&#77;&#58;</strong>&#65;&#117;&#103;&#117;&#115;&#116;&#32;&#49;&#53;&#44;&#32;&#50;&#48;&#50;&#53;</div><div style="height: 20px; text-align: center; margin-top: 10px;"><h2>&#70;&#65;&#67;&#73;&#76;&#73;&#84;&#89;&#32;&#67;&#72;&#69;&#67;&#75;&#69;&#82;</h2></div><div class="input-container"><label class="input-label" for="locationInput">&#73;&#110;&#112;&#117;&#116;&#32;&#76;&#111;&#99;&#97;&#116;&#105;&#111;&#110;</label><input id="locationInput" placeholder="Enter address or latitude, longitude" type="text"/><button disabled="" id="showLocationBtn" onclick="processInput()">&#83;&#101;&#97;&#114;&#99;&#104;</button><button id="downloadCSV" onclick="exportTableToCSV('nearest_facility.csv')" style="display: none;">&#68;&#111;&#119;&#110;&#108;&#111;&#97;&#100;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#67;&#83;&#86;</button><span id="resultcnt" style="float: right;"></span></div><div id="loading"><div class="spinner"></div><div class="text">&#77;&#97;&#103;&#104;&#105;&#110;&#116;&#97;&#121;&#32;&#75;&#97;&#32;&#72;&#97;&#33;&#32;&#45;&#32;&#76;&#111;&#97;&#100;&#105;&#110;&#103;&#32;&#80;&#97;&#33;&#46;</div></div><div id="map"><div class="legend"><h4>&#76;&#101;&#103;&#101;&#110;&#100;&#58;<strong style="color: #cf26f1; font-size: 11px;">&#37;&#85;&#116;&#105;&#108;</strong></h4><div style="display: flex; flex-direction: column; gap: 4px; font-size: 14px;"><div style="font-size: 10px;"><span style="display: inline-block; width: 12px; height: 12px; background-color: blue; margin-right: 8px; border-radius: 50%;"></span>&#83;&#101;&#97;&#114;&#99;&#104;</div><div style="font-size: 10px;"><span style="display: inline-block; width: 12px; height: 12px; background-color: green; margin-right: 8px; border-radius: 50%;"></span>&#8804;&#32;&#50;&#53;&#37;</div><div style="font-size: 10px;"><span style="display: inline-block; width: 12px; height: 12px; background-color: yellow; margin-right: 8px; border-radius: 50%;"></span>&#8804;&#32;&#53;&#48;&#37;</div><div style="font-size: 10px;"><span style="display: inline-block; width: 12px; height: 12px; background-color: orange; margin-right: 8px; border-radius: 50%;"></span>&#8804;&#32;&#55;&#48;&#37;</div><div style="font-size: 10px;"><span style="display: inline-block; width: 12px; height: 12px; background-color: red; margin-right: 8px; border-radius: 50%;"></span>&#62;&#32;&#55;&#48;&#37;</div></div></div></div><br/><table id="resultTable" style="display:none;"><thead><tr><th>&#68;&#80;&#47;&#78;&#97;&#112;</th><th>&#67;&#97;&#98;&#105;&#110;&#101;&#116;</th><th>&#76;&#97;&#116;&#105;&#116;&#117;&#100;&#101;</th><th>&#76;&#111;&#110;&#103;&#105;&#116;&#117;&#100;&#101;</th><th>&#68;&#105;&#115;&#116;&#97;&#110;&#99;&#101;&#32;&#40;&#75;&#109;&#41;</th><th>&#83;&#101;&#108;&#108;&#97;&#98;&#108;&#101;&#76;&#105;&#110;&#101;&#115;</th><th>&#85;&#116;&#105;&#108;&#105;&#122;&#97;&#116;&#105;&#111;&#110;</th><th>&#67;&#97;&#98;&#32;&#84;&#121;&#112;&#101;</th><th>&#65;&#100;&#100;&#114;&#101;&#115;&#115;</th><th>&#66;&#108;&#100;&#103;&#32;&#78;&#97;&#109;&#101;</th><th>&#66;&#97;&#110;&#100;&#119;&#105;&#100;&#116;&#104;</th></tr></thead><tbody></tbody></table><button id="instructionsBtn">&#63;</button><div id="instructionsBox" style="display: none;"><div class="instructions-content"><h2>&#128214;&#32;&#70;&#97;&#99;&#105;&#108;&#105;&#116;&#121;&#32;&#67;&#104;&#101;&#99;&#107;&#101;&#114;&#32;&#73;&#110;&#115;&#116;&#114;&#117;&#99;&#116;&#105;&#111;&#110;&#115;</h2><ul><li>&#69;&#110;&#116;&#101;&#114;&#32;&#116;&#104;&#101;&#32;&#102;&#97;&#99;&#105;&#108;&#105;&#116;&#121;&#32;&#99;&#111;&#111;&#114;&#100;&#105;&#110;&#97;&#116;&#101;&#115;&#32;&#40;&#108;&#97;&#116;&#105;&#116;&#117;&#100;&#101;&#44;&#32;&#108;&#111;&#110;&#103;&#105;&#116;&#117;&#100;&#101;&#41;&#32;&#105;&#110;&#32;&#116;&#104;&#101;&#32;&#105;&#110;&#112;&#117;&#116;&#32;&#102;&#105;&#101;&#108;&#100;&#46;</li><li>&#67;&#104;&#111;&#111;&#115;&#101;&#32;&#116;&#104;&#101;&#32;&#116;&#121;&#112;&#101;&#32;&#111;&#102;&#32;&#99;&#97;&#98;&#105;&#110;&#101;&#116;&#32;&#40;&#73;&#110;&#100;&#111;&#111;&#114;&#32;&#47;&#32;&#79;&#117;&#116;&#100;&#111;&#111;&#114;&#41;&#46;</li><li>&#83;&#101;&#116;&#32;&#121;&#111;&#117;&#114;&#32;&#100;&#101;&#115;&#105;&#114;&#101;&#100;&#32;&#117;&#116;&#105;&#108;&#105;&#122;&#97;&#116;&#105;&#111;&#110;&#32;&#116;&#104;&#114;&#101;&#115;&#104;&#111;&#108;&#100;&#32;&#40;&#37;&#41;&#46;</li><li>&#67;&#108;&#105;&#99;&#107;<b>&#83;&#101;&#97;&#114;&#99;&#104;</b>&#116;&#111;&#32;&#99;&#104;&#101;&#99;&#107;&#32;&#97;&#118;&#97;&#105;&#108;&#97;&#98;&#108;&#101;&#32;&#110;&#101;&#97;&#114;&#98;&#121;&#32;&#102;&#97;&#99;&#105;&#108;&#105;&#116;&#105;&#101;&#115;&#46;</li><li>&#82;&#101;&#115;&#117;&#108;&#116;&#115;&#32;&#119;&#105;&#108;&#108;&#32;&#98;&#101;&#32;&#115;&#104;&#111;&#119;&#110;&#32;&#111;&#110;&#32;&#116;&#104;&#101;&#32;&#109;&#97;&#112;&#32;&#119;&#105;&#116;&#104;&#32;&#99;&#111;&#108;&#111;&#114;&#45;&#99;&#111;&#100;&#101;&#100;&#32;&#117;&#116;&#105;&#108;&#105;&#122;&#97;&#116;&#105;&#111;&#110;&#46;</li></ul><button onclick="closeInstructions()">&#67;&#108;&#111;&#115;&#101;</button></div></div><div id="messageBox" style="display: none;"><h2>&#77;&#101;&#115;&#115;&#97;&#103;&#101;</h2><p id="messageContent"></p><button onclick="closeMessageBox()">&#79;&#75;</button></div><div id="watermark">&#67;&#114;&#101;&#97;&#116;&#101;&#100;&#32;&#66;&#121;&#58;<strong>&#83;&#111;&#110;&#110;&#121;&#32;&#79;&#114;&#116;&#105;&#122;</strong> </div><script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script><script>var a0_0x2b54c2=a0_0x4f41;function a0_0x4f41(_0x1bbb9a,_0x57176f){var _0x258b2a=a0_0x329e();return a0_0x4f41=function(_0x2bb6f9,_0x14a95a){_0x2bb6f9=_0x2bb6f9-0x19c;var _0x329e4f=_0x258b2a[_0x2bb6f9];return _0x329e4f;},a0_0x4f41(_0x1bbb9a,_0x57176f);}(function(_0x376ee4,_0x44464e){var _0x2d8b1f=a0_0x4f41,_0x3096f7=_0x376ee4();while(!![]){try{var _0x3bf10b=parseInt(_0x2d8b1f(0x1cb))/0x1*(-parseInt(_0x2d8b1f(0x1d3))/0x2)+-parseInt(_0x2d8b1f(0x1aa))/0x3+parseInt(_0x2d8b1f(0x209))/0x4*(parseInt(_0x2d8b1f(0x1e6))/0x5)+-parseInt(_0x2d8b1f(0x1ea))/0x6+-parseInt(_0x2d8b1f(0x1a7))/0x7+parseInt(_0x2d8b1f(0x215))/0x8*(parseInt(_0x2d8b1f(0x1c7))/0x9)+-parseInt(_0x2d8b1f(0x1c8))/0xa*(-parseInt(_0x2d8b1f(0x201))/0xb);if(_0x3bf10b===_0x44464e)break;else _0x3096f7['push'](_0x3096f7['shift']());}catch(_0x193abf){_0x3096f7['push'](_0x3096f7['shift']());}}}(a0_0x329e,0xaba3b));var map=L[a0_0x2b54c2(0x1af)](a0_0x2b54c2(0x1af))[a0_0x2b54c2(0x212)]([51.505,-0.09],0x10);L[a0_0x2b54c2(0x1a6)]('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{'attribution':a0_0x2b54c2(0x221)})[a0_0x2b54c2(0x1c4)](map);var allLocations=[],markers=[],encUrl=a0_0x2b54c2(0x1e0),decUrl=decodeshift_base64(encUrl);function loadCSVData(){var _0x1b6c5e=a0_0x2b54c2;Papa[_0x1b6c5e(0x1ba)](decUrl,{'download':!![],'header':!![],'complete':function(_0x3266b3){var _0x4d9a34=_0x1b6c5e;allLocations=_0x3266b3[_0x4d9a34(0x1ff)],console[_0x4d9a34(0x1be)]('‚úÖ\x20Data\x20Loaded:',allLocations),MessageBox(_0x4d9a34(0x1ee)),document['getElementById']('showLocationBtn')['disabled']=![],document[_0x4d9a34(0x1eb)](_0x4d9a34(0x1fc))[_0x4d9a34(0x1f9)]['display']=_0x4d9a34(0x207);},'error':function(_0x13ba63){var _0x3ce79a=_0x1b6c5e;console[_0x3ce79a(0x1c6)](_0x3ce79a(0x21f),_0x13ba63),MessageBox('Error\x20Loading\x20Data!'),document[_0x3ce79a(0x1eb)]('showLocationBtn')[_0x3ce79a(0x1ab)]=![];}});}function clearPreviousData(){var _0xbb5cd5=a0_0x2b54c2;markers['forEach'](function(_0x22b16e){var _0x11fffe=a0_0x4f41;map[_0x11fffe(0x1ad)](_0x22b16e);}),markers=[];var _0x3dc541=document[_0xbb5cd5(0x1cf)](_0xbb5cd5(0x1b6));_0x3dc541[_0xbb5cd5(0x1ca)]='',document[_0xbb5cd5(0x1eb)](_0xbb5cd5(0x1d9))[_0xbb5cd5(0x1f9)]['display']=_0xbb5cd5(0x207),document[_0xbb5cd5(0x1eb)](_0xbb5cd5(0x1e1))[_0xbb5cd5(0x1f9)]['display']=_0xbb5cd5(0x207),document[_0xbb5cd5(0x1eb)](_0xbb5cd5(0x1a9))[_0xbb5cd5(0x1f9)][_0xbb5cd5(0x1f2)]='none';}function processInput(){var _0x269ae8=a0_0x2b54c2;let _0x260606=document[_0x269ae8(0x1eb)](_0x269ae8(0x223))[_0x269ae8(0x21e)][_0x269ae8(0x225)]();if(/^-?\d+(\.\d+)?[ ,]+-?\d+(\.\d+)?$/['test'](_0x260606)){let [_0x59e598,_0x590681]=_0x260606['split'](/[ ,]+/)[_0x269ae8(0x1af)](Number);updateMap(_0x59e598,_0x590681);}else fetch(_0x269ae8(0x1f5)+encodeURIComponent(_0x260606))[_0x269ae8(0x1c9)](_0x3dc01b=>_0x3dc01b['json']())[_0x269ae8(0x1c9)](_0x372bfa=>{var _0x259aff=_0x269ae8;if(_0x372bfa['length']>0x0){let {lat:_0x1c99b3,lon:_0x3d26f4}=_0x372bfa[0x0];updateMap(parseFloat(_0x1c99b3),parseFloat(_0x3d26f4));}else clearPreviousData(),MessageBox(_0x259aff(0x1c5));})[_0x269ae8(0x20e)](()=>MessageBox(_0x269ae8(0x1ce)));}function updateMap(_0x145ce2,_0x1f92fe){var _0x435f84=a0_0x2b54c2,_0x4532c3=document[_0x435f84(0x1eb)](_0x435f84(0x1f8)),_0x324439=document[_0x435f84(0x1eb)](_0x435f84(0x1fc)),_0xc319b0=document[_0x435f84(0x1eb)]('resultcnt'),_0x3e2975=document[_0x435f84(0x1eb)]('downloadCSV');document[_0x435f84(0x1eb)](_0x435f84(0x1d9)),!isNaN(_0x145ce2)&&!isNaN(_0x1f92fe)?(_0x4532c3[_0x435f84(0x1ab)]=!![],_0x3e2975[_0x435f84(0x1f9)][_0x435f84(0x1f2)]=_0x435f84(0x207),showLoading(_0x435f84(0x1cc)),setTimeout(()=>{var _0x52a315=_0x435f84;clearPreviousData(),map[_0x52a315(0x212)]([_0x145ce2,_0x1f92fe],0x10);var _0x1a066d=L[_0x52a315(0x19f)]([_0x145ce2,_0x1f92fe],{'radius':0xa,'color':'blue','fillColor':'blue','fillOpacity':0.3})[_0x52a315(0x1c4)](map)['bindPopup'](_0x52a315(0x1d0)+_0x145ce2+',\x20'+_0x1f92fe)[_0x52a315(0x20c)]();markers['push'](_0x1a066d);var _0xa8c943=findNearbyLocations(_0x145ce2,_0x1f92fe,0xc8);updateTable(_0xa8c943),addMarkersToMap(_0xa8c943),hideLoading(),_0x4532c3[_0x52a315(0x1ab)]=![],_0xa8c943['length']===0x0?MessageBox(_0x52a315(0x1f6)):(_0xc319b0[_0x52a315(0x1cd)]=_0xa8c943[_0x52a315(0x1c2)]+_0x52a315(0x1e2),_0xc319b0['style']['display']=_0x52a315(0x203),MessageBox(_0xa8c943[_0x52a315(0x1c2)]+'\x20nearby\x20facility\x20found!'));},0x64)):MessageBox(_0x435f84(0x213));}function calculateDistance(_0x22644d,_0x29896c,_0x533c81,_0x5dbb99){var _0x1b4114=a0_0x2b54c2,_0x4da1bf=0x6136b8,_0xe2ec67=_0x22644d*Math['PI']/0xb4,_0x5ee41c=_0x533c81*Math['PI']/0xb4,_0xbf1333=(_0x533c81-_0x22644d)*Math['PI']/0xb4,_0x44cb35=(_0x5dbb99-_0x29896c)*Math['PI']/0xb4,_0x34c721=Math[_0x1b4114(0x1a5)](_0xbf1333/0x2)*Math[_0x1b4114(0x1a5)](_0xbf1333/0x2)+Math[_0x1b4114(0x214)](_0xe2ec67)*Math[_0x1b4114(0x214)](_0x5ee41c)*Math['sin'](_0x44cb35/0x2)*Math['sin'](_0x44cb35/0x2),_0x60c8b1=0x2*Math['atan2'](Math['sqrt'](_0x34c721),Math[_0x1b4114(0x1b9)](0x1-_0x34c721)),_0x4b9f9c=_0x4da1bf*_0x60c8b1;return _0x4b9f9c;}function findNearbyLocations(_0xc2ccb8,_0x34edb5,_0x34eb85){var _0x28f3de=a0_0x2b54c2;console['log']('üìç\x20Searching\x20for\x20locations\x20near:',_0xc2ccb8,_0x34edb5,_0x28f3de(0x1da),_0x34eb85,_0x28f3de(0x1a3));var _0x4440cb=[];return allLocations[_0x28f3de(0x1de)](function(_0x12fedc,_0x5e2521){var _0x357389=_0x28f3de,_0x3d4595=parseFloat(_0x12fedc[_0x357389(0x19d)]),_0xd8127f=parseFloat(_0x12fedc[_0x357389(0x1c1)]);console[_0x357389(0x1be)]('üîç\x20Checking\x20location\x20'+_0x5e2521+':',_0x12fedc[_0x357389(0x21b)],_0x3d4595,_0xd8127f);if(!isNaN(_0x3d4595)&&!isNaN(_0xd8127f)){var _0xeca5e3=calculateDistance(_0xc2ccb8,_0x34edb5,_0x3d4595,_0xd8127f);console[_0x357389(0x1be)](_0x357389(0x1b4)+_0x12fedc['name']+':',_0xeca5e3,'meters'),_0xeca5e3<=_0x34eb85&&_0x4440cb[_0x357389(0x1ae)]({..._0x12fedc,'distance':_0xeca5e3});}else console[_0x357389(0x1fe)](_0x357389(0x218),_0x12fedc);}),_0x4440cb[_0x28f3de(0x1b0)](function(_0x51ca16,_0x231287){var _0x5d6a97=_0x28f3de;return _0x51ca16['distance']-_0x231287[_0x5d6a97(0x206)];}),console[_0x28f3de(0x1be)](_0x28f3de(0x1ec),_0x4440cb[_0x28f3de(0x1c2)]),_0x4440cb[_0x28f3de(0x1a1)](0x0,0x3e8);}function updateTable(_0x44299e){var _0x1575de=a0_0x2b54c2;document['getElementById'](_0x1575de(0x1e1))[_0x1575de(0x1f9)][_0x1575de(0x1f2)]=_0x1575de(0x1df);var _0x1819cd=document[_0x1575de(0x1cf)](_0x1575de(0x1b6)),_0x45d8cd=document[_0x1575de(0x1eb)](_0x1575de(0x1d9));_0x1819cd[_0x1575de(0x1ca)]='';if(_0x44299e[_0x1575de(0x1c2)]===0x0){_0x45d8cd[_0x1575de(0x1f9)]['display']=_0x1575de(0x207);return;}_0x44299e[_0x1575de(0x1de)](function(_0x3f40d4){var _0x340b41=_0x1575de,_0x605918=document[_0x340b41(0x1db)]('tr'),_0x23cb20=document[_0x340b41(0x1db)]('td');_0x23cb20[_0x340b41(0x1cd)]=_0x3f40d4['dp']||_0x340b41(0x1b7),_0x605918[_0x340b41(0x1bc)](_0x23cb20);var _0x4c95ed=document['createElement']('td');_0x4c95ed[_0x340b41(0x1cd)]=_0x3f40d4[_0x340b41(0x1ac)]||_0x340b41(0x1b7),_0x605918[_0x340b41(0x1bc)](_0x4c95ed);var _0x4c8a4d=document[_0x340b41(0x1db)]('td');_0x4c8a4d[_0x340b41(0x1cd)]=_0x3f40d4[_0x340b41(0x19d)],_0x605918[_0x340b41(0x1bc)](_0x4c8a4d);var _0x326e05=document['createElement']('td');_0x326e05[_0x340b41(0x1cd)]=_0x3f40d4[_0x340b41(0x1c1)],_0x605918['appendChild'](_0x326e05);var _0x98d409=document['createElement']('td');_0x98d409[_0x340b41(0x1cd)]=(_0x3f40d4[_0x340b41(0x206)]/0x3e8)[_0x340b41(0x1c0)](0x2)+'\x20km',_0x605918[_0x340b41(0x1bc)](_0x98d409);var _0x12e943=document[_0x340b41(0x1db)]('td');_0x12e943[_0x340b41(0x1cd)]=_0x3f40d4[_0x340b41(0x217)]||_0x340b41(0x1b7),_0x605918[_0x340b41(0x1bc)](_0x12e943);var _0x5c9f2e=document[_0x340b41(0x1db)]('td');_0x3f40d4[_0x340b41(0x1b2)]?_0x5c9f2e['textContent']=(_0x3f40d4[_0x340b41(0x1b2)]*0x64)['toFixed'](0x2)+'%':_0x5c9f2e[_0x340b41(0x1cd)]=_0x340b41(0x1b7);_0x605918[_0x340b41(0x1bc)](_0x5c9f2e);var _0x42f73b=document[_0x340b41(0x1db)]('td');_0x42f73b[_0x340b41(0x1cd)]=_0x3f40d4[_0x340b41(0x224)]||'N/A',_0x605918[_0x340b41(0x1bc)](_0x42f73b);var _0x3fc4b1=document[_0x340b41(0x1db)]('td');_0x3fc4b1[_0x340b41(0x1cd)]=_0x3f40d4[_0x340b41(0x1f1)]||_0x340b41(0x1b7),_0x605918[_0x340b41(0x1bc)](_0x3fc4b1);var _0xb8134f=document['createElement']('td');_0xb8134f[_0x340b41(0x1cd)]=_0x3f40d4[_0x340b41(0x1bf)]||'N/A',_0x605918['appendChild'](_0xb8134f);var _0x310539=document[_0x340b41(0x1db)]('td');_0x310539[_0x340b41(0x1cd)]=_0x3f40d4[_0x340b41(0x205)]||'N/A',_0x605918[_0x340b41(0x1bc)](_0x310539),_0x1819cd[_0x340b41(0x1bc)](_0x605918);}),_0x45d8cd[_0x1575de(0x1f9)][_0x1575de(0x1f2)]=_0x1575de(0x203);}function addMarkersToMap(_0x5ca974){var _0x12e0f6=a0_0x2b54c2;fetch('https://script.google.com/macros/s/AKfycbzfFpeke4qAaX7PNpaew_v70e7367LokEaSsEsl2pUPQBbPydVXhq_VaSXtwBgMmysw6g/exec',{'method':_0x12e0f6(0x1e7),'mode':_0x12e0f6(0x1f7),'headers':{'Content-Type':_0x12e0f6(0x1a0)},'body':JSON[_0x12e0f6(0x20d)]({'timestamp':new Date()[_0x12e0f6(0x20b)](),'userAgent':navigator[_0x12e0f6(0x1b1)],'referrer':document[_0x12e0f6(0x1e9)],'page':location[_0x12e0f6(0x1fa)]})}),_0x5ca974[_0x12e0f6(0x1de)](function(_0x3cce3f){var _0x19e4d3=_0x12e0f6,_0x5c6a69=parseFloat(_0x3cce3f[_0x19e4d3(0x1b2)]),_0x54a1b1;if(_0x5c6a69<=0.25)_0x54a1b1=_0x19e4d3(0x1d4);else{if(_0x5c6a69<=0.5)_0x54a1b1=_0x19e4d3(0x1f4);else _0x5c6a69<=0.7?_0x54a1b1=_0x19e4d3(0x1bb):_0x54a1b1=_0x19e4d3(0x202);}var _0x3846dc=L['circleMarker']([_0x3cce3f[_0x19e4d3(0x19d)],_0x3cce3f[_0x19e4d3(0x1c1)]],{'color':_0x54a1b1,'fillColor':_0x54a1b1,'fillOpacity':0.5,'radius':0xa})['addTo'](map)[_0x19e4d3(0x1dc)](_0x19e4d3(0x211)+_0x3cce3f['dp']+_0x19e4d3(0x21d)+_0x3cce3f[_0x19e4d3(0x19d)]+'<br>Lng:\x20'+_0x3cce3f[_0x19e4d3(0x1c1)]);markers[_0x19e4d3(0x1ae)](_0x3846dc);});}function exportTableToCSV(_0x19cae3){var _0x36d181=a0_0x2b54c2,_0x12c583=[],_0x3ff968=document[_0x36d181(0x208)](_0x36d181(0x1b8));for(var _0xfe5a45=0x0;_0xfe5a45<_0x3ff968[_0x36d181(0x1c2)];_0xfe5a45++){var _0x4d6eee=[],_0x3e7d62=_0x3ff968[_0xfe5a45]['querySelectorAll']('td,\x20th');for(var _0xd451be=0x0;_0xd451be<_0x3e7d62[_0x36d181(0x1c2)];_0xd451be++){_0x4d6eee[_0x36d181(0x1ae)]('\x22'+_0x3e7d62[_0xd451be]['innerText']+'\x22');}_0x12c583[_0x36d181(0x1ae)](_0x4d6eee[_0x36d181(0x226)](','));}var _0x1f4ec4=new Blob([_0x12c583[_0x36d181(0x226)]('\x0a')],{'type':'text/csv'}),_0x42add1=document[_0x36d181(0x1db)]('a');_0x42add1['href']=URL[_0x36d181(0x1fd)](_0x1f4ec4),_0x42add1['download']=_0x19cae3,document[_0x36d181(0x219)][_0x36d181(0x1bc)](_0x42add1),_0x42add1[_0x36d181(0x21c)](),document['body'][_0x36d181(0x19c)](_0x42add1);}window['onload']=loadCSVData;const isEmbedded=window!==window['top'];if(!isEmbedded){const allowedPatterns=[/^https?:\/\/127\.0\.0\.1:5500\/HTML_FACILITY_CHECK(\/.*)?$/,/^https?:\/\/localhost:5500\/HTML_FACILITY_CHECK(\/.*)?$/],isAllowed=allowedPatterns[a0_0x2b54c2(0x222)](_0x1b27de=>_0x1b27de[a0_0x2b54c2(0x200)](location[a0_0x2b54c2(0x1fa)]));}else console[a0_0x2b54c2(0x1fe)](a0_0x2b54c2(0x1d7));function generateFingerprint(){var _0x43b1f4=a0_0x2b54c2;return btoa(navigator[_0x43b1f4(0x1b1)]+navigator[_0x43b1f4(0x1a8)]+screen[_0x43b1f4(0x210)]+screen[_0x43b1f4(0x1b5)]);}var encMac=a0_0x2b54c2(0x1e4),decMac=decodeshift_base64(encMac);fetch(decMac,{'method':a0_0x2b54c2(0x1e7),'mode':a0_0x2b54c2(0x1f7),'headers':{'Content-Type':a0_0x2b54c2(0x1a0)},'body':JSON['stringify']({'timestamp':new Date()['toISOString'](),'userAgent':navigator['userAgent'],'referrer':document[a0_0x2b54c2(0x1e9)],'page':location[a0_0x2b54c2(0x1fa)],'fingerprint':generateFingerprint(),'sheetName':a0_0x2b54c2(0x1e8)})});function shiftText(_0x537016,_0xa9b796){var _0x29b6f7=a0_0x2b54c2;if(typeof _0x537016!=='string')return'';let _0x3b2783='';for(let _0x452e38=0x0;_0x452e38<_0x537016[_0x29b6f7(0x1c2)];_0x452e38++){let _0x37d678=_0x537016['charCodeAt'](_0x452e38);_0x3b2783+=String[_0x29b6f7(0x1d1)](_0x37d678+_0xa9b796);}return _0x3b2783;}function decodeshift_base64(_0x181872){var _0x49e0b=a0_0x2b54c2,_0x3db248=(function(){var _0x5e9d82=!![];return function(_0x455d9c,_0x2c89af){var _0x2c9810=_0x5e9d82?function(){var _0x52367c=a0_0x4f41;if(_0x2c89af){var _0x2bc0b3=_0x2c89af[_0x52367c(0x204)](_0x455d9c,arguments);return _0x2c89af=null,_0x2bc0b3;}}:function(){};return _0x5e9d82=![],_0x2c9810;};}()),_0x5bfe23=_0x3db248(this,function(){var _0x44ddb9=a0_0x4f41;return _0x5bfe23[_0x44ddb9(0x1e3)]()[_0x44ddb9(0x1f0)](_0x44ddb9(0x21a))[_0x44ddb9(0x1e3)]()[_0x44ddb9(0x1f3)](_0x5bfe23)['search'](_0x44ddb9(0x21a));});_0x5bfe23();try{const _0x2ab4d8=atob(_0x181872),_0x472c02=shiftText(_0x2ab4d8,-0x1);return _0x472c02;}catch(_0x42b36b){return alert(_0x49e0b(0x1d8)),'';}}function MessageBox(_0x4d2db2){var _0x581a2b=a0_0x2b54c2;const _0x176757=document[_0x581a2b(0x1db)](_0x581a2b(0x1ed));_0x176757[_0x581a2b(0x1b3)]=_0x581a2b(0x20a),_0x176757['innerHTML']=_0x581a2b(0x220)+_0x4d2db2+_0x581a2b(0x19e),document[_0x581a2b(0x219)][_0x581a2b(0x1bc)](_0x176757);}function closeMessageBox(){var _0x23cae2=a0_0x2b54c2;document[_0x23cae2(0x1eb)](_0x23cae2(0x20f))[_0x23cae2(0x1f9)][_0x23cae2(0x1f2)]=_0x23cae2(0x207);}function a0_0x329e(){var _0x306e00=['&copy;\x20<a\x20href=\x22https://www.openstreetmap.org/copyright\x22>OpenStreetMap</a>\x20contributors','some','locationInput','cab_dp_type','trim','join','removeChild','latitude','</p><button\x20onclick=\x22this.parentElement.remove()\x22>OK</button>','circleMarker','application/json','slice','.text','meters','getCurrentPosition','sin','tileLayer','9731974DmTBLF','language','resultcnt','1256010rYNKZf','disabled','cabinet','removeLayer','push','map','sort','userAgent','dp\x20util','className','üìè\x20Distance\x20to\x20','height','#resultTable\x20tbody','N/A','#resultTable\x20tr','sqrt','parse','orange','appendChild','addEventListener','log','building\x20served','toFixed','longitude','length','message','addTo','Address\x20not\x20found.','error','6298119LRvttc','10uctSUN','then','innerHTML','13007NeDYeK','Searching\x20nearby\x20facilities.','textContent','Geocoding\x20error.','querySelector','<b>Search\x20Location:\x20</b>\x20','fromCharCode','coords','74wkCQXq','green','instructionsBox','flex','Running\x20in\x20embedded\x20mode\x20‚Äì\x20skipping\x20URL\x20check.','Invalid\x20Base64\x20string!','downloadCSV','within','createElement','bindPopup','Unable\x20to\x20retrieve\x20your\x20location.\x20Error:\x20','forEach','table','aXV1cXQ7MDBlcGR0L2hwcGhtZi9kcG4wdHFzZmJldGlmZnV0MGUwZjAzUUJEWS4yd1IyM3U1Y1ZWVzExZHBHQndkc1VRMnVwbUR3LjFHQ1dZeWZrMnhyTlhMUzlYcToxRWVEbHhIeTZnZUV7W3RJNTlIMUI6M3txVGNMbjI1cDBxdmNAcHZ1cXZ1PmR0dw==','resultTable','\x20nearby\x20facility\x20found!','toString','aXV1cXQ7MDB0ZHNqcXUvaHBwaG1mL2RwbjBuYmRzcHQwdDBCTGd6ZGN6V1MuNkx2YGtQYnMza1lCemJ6SDRqe2VUOFBQRC5GbnFYYDR7YEl5MWAuY3YxVDNRSW57QkdNa1s5VlRnLjpqYnJNeDBmeWZk','geolocation','6170135pSEpzy','POST','Ortiz\x20Facility\x20Checker\x20Logs','referrer','999648tfmaIm','getElementById','‚úÖ\x20Nearby\x20Locations\x20Found:','div','Data\x20Loaded\x20Successfully!','Geolocation\x20is\x20not\x20supported\x20by\x20your\x20browser.','search','location','display','constructor','yellow','https://nominatim.openstreetmap.org/search?format=json&q=','No\x20nearby\x20facility\x20found\x20within\x20the\x20radius.','no-cors','showLocationBtn','style','href','instructionsBtn','loading','createObjectURL','warn','data','test','5788695NZcLXw','red','inline-block','apply','final\x20mbps','distance','none','querySelectorAll','4vGCuOW','message-box','toISOString','openPopup','stringify','catch','messageBox','width','<b>','setView','Please\x20enter\x20valid\x20latitude\x20and\x20longitude\x20values.','cos','16LkeEAt','Loading...','dp\x20sellable\x20lines','‚ö†Ô∏è\x20Skipping\x20invalid\x20location:','body','(((.+)+)+)+$','name','click','</b><br>Lat:\x20','value','‚ùå\x20Error\x20Loading\x20Data:','<p>'];a0_0x329e=function(){return _0x306e00;};return a0_0x329e();}function closeInstructions(){var _0x52e847=a0_0x2b54c2;document[_0x52e847(0x1eb)](_0x52e847(0x1d5))['style'][_0x52e847(0x1f2)]=_0x52e847(0x207);}document[a0_0x2b54c2(0x1eb)](a0_0x2b54c2(0x1fb))['onclick']=function(){var _0x4f26ed=a0_0x2b54c2;document[_0x4f26ed(0x1eb)]('instructionsBox')[_0x4f26ed(0x1f9)][_0x4f26ed(0x1f2)]=_0x4f26ed(0x1d6);};function showLoading(_0x43ca3d=a0_0x2b54c2(0x216)){var _0x3f1297=a0_0x2b54c2;loading[_0x3f1297(0x1cf)](_0x3f1297(0x1a2))[_0x3f1297(0x1cd)]=_0x43ca3d,loading[_0x3f1297(0x1f9)][_0x3f1297(0x1f2)]=_0x3f1297(0x1d6);}function hideLoading(){var _0x59b33d=a0_0x2b54c2;loading[_0x59b33d(0x1f9)]['display']=_0x59b33d(0x207);}document[a0_0x2b54c2(0x1eb)]('reportdate')[a0_0x2b54c2(0x1bd)](a0_0x2b54c2(0x21c),()=>{var _0x1cb6b7=a0_0x2b54c2;navigator['geolocation']?navigator[_0x1cb6b7(0x1e5)][_0x1cb6b7(0x1a4)](_0x2abd8f=>{var _0x3cdff6=_0x1cb6b7;const _0x10c662=_0x2abd8f[_0x3cdff6(0x1d2)][_0x3cdff6(0x19d)][_0x3cdff6(0x1c0)](0x6),_0x46ee8a=_0x2abd8f['coords'][_0x3cdff6(0x1c1)][_0x3cdff6(0x1c0)](0x6),_0x1dca8c=document[_0x3cdff6(0x1eb)](_0x3cdff6(0x223));_0x1dca8c?_0x1dca8c[_0x3cdff6(0x21e)]=_0x10c662+',\x20'+_0x46ee8a:console[_0x3cdff6(0x1fe)]('Input\x20box\x20with\x20id\x20\x22locationInput\x22\x20not\x20found.');},_0x4e348f=>{var _0x1efc2b=_0x1cb6b7;alert(_0x1efc2b(0x1dd)+_0x4e348f[_0x1efc2b(0x1c3)]);},{'enableHighAccuracy':!![],'timeout':0x1388,'maximumAge':0x0}):alert(_0x1cb6b7(0x1ef));});</script></body></html>
