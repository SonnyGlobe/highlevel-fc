<html lang="en"><head><meta charset="utf-8"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><title>&#79;&#114;&#116;&#105;&#122;&#32;&#70;&#97;&#99;&#105;&#108;&#105;&#116;&#121;&#32;&#67;&#104;&#101;&#99;&#107;&#101;&#114;</title><link href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" rel="stylesheet"/><script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script><style>        body {            width: 100%;            font-family: 'Orbitron', sans-serif;            background-color: #0a0f1e;            color: #e0e6f0;            margin: 0;            padding: 0;        }        .input-label {            margin-left: 10px;            /* adjust px as needed */            display: inline-block;            /* so margin works properly */        }        #map {            width: 100%;            height: 500px;            position: relative;        }        /* ADVANDE DESINED WATER MARK */        #watermark {            position: fixed;            bottom: 10px;            right: 10px;            font-size: 14px;            color: #00f7ff;            /* neon blue */            background: rgba(20, 30, 60, 0.85);            padding: 6px 14px;            border-radius: 10px;            border: 1px solid rgba(0, 247, 255, 0.6);            font-family: "Orbitron",                sans-serif;            letter-spacing: 1px;            box-shadow: 0 0 15px rgba(0, 247, 255, 0.4);            text-shadow: 0 0 6px rgba(0, 247, 255, 0.9),                0 0 12px rgba(0, 247, 255, 0.6);            z-index: 1500;            animation: watermarkGlow 3s infinite alternate;        }        /* glowing animation */        @keyframes watermarkGlow {            from {                text-shadow: 0 0 6px rgba(0, 247, 255, 0.6), 0 0 12px rgba(0, 247, 255, 0.3);                box-shadow: 0 0 10px rgba(0, 247, 255, 0.2);            }            to {                text-shadow: 0 0 12px rgba(0, 247, 255, 1), 0 0 20px rgba(0, 247, 255, 0.7);                box-shadow: 0 0 20px rgba(0, 247, 255, 0.6);            }        }        /*         #watermark {            position: fixed;            bottom: 10px;            right: 10px;            font-size: 14px;            color: rgba(0, 0, 0, 0.6);            background: rgba(255, 255, 255, 0.7);            padding: 5px 10px;            border-radius: 5px;            font-family: Arial, sans-serif;        }     Futuristic MessageBox */        .message-box {            position: fixed;            top: 50%;            left: 50%;            transform: translate(-50%, -50%);            background: rgba(20, 30, 60, 0.95);            color: #e0f7ff;            border: 2px solid #00f7ff;            padding: 20px 30px;            border-radius: 12px;            box-shadow: 0 0 25px #00f7ff, 0 0 50px rgba(0, 247, 255, 0.5);            text-align: center;            z-index: 10000;            animation: fadeIn 0.3s ease-in-out;        }        .message-box button {            margin-top: 15px;            padding: 8px 18px;            background: #00f7ff;            border: none;            color: #0a0f1e;            font-weight: bold;            border-radius: 6px;            cursor: pointer;            box-shadow: 0 0 10px #00f7ff;            transition: all 0.2s ease-in-out;        }        .message-box button:hover {            background: #00cce7;            box-shadow: 0 0 15px #00eaff;        }        @keyframes fadeIn {            from {                opacity: 0;                transform: translate(-50%, -48%);            }            to {                opacity: 1;                transform: translate(-50%, -50%);            }        }        /* Legend positioned at right */        .legend {            position: absolute;            top: 10px;            right: 10px;            background: rgba(20, 30, 60, 0.9);            padding: 15px;            border: 2px solid #00f7ff;            border-radius: 8px;            font-size: 11px;            color: #e0f7ff;            box-shadow: 0 0 20px rgba(0, 247, 255, 0.3);            z-index: 1000;            /* ✅ keep it above map tiles */        }        .legend div {            margin: 6px 0;        }        .input-container {            margin: 20px 0;        }        label,        input {            margin-right: 10px;        }        input[type="text"] {            width: 350px;            height: 20px;        }        button {            padding: 5px 10px;            cursor: pointer;            padding: 8px 12px;            border-radius: 6px;            border: none;            cursor: pointer;            background: #1976d2;            color: #fff;        }        button.secondary {            background: #4CAF50;        }        button:disabled {            background-color: #3a4e5f;            cursor: not-allowed;        }        table {            width: 100%;            border-collapse: collapse;            table-layout: fixed;        }        th,        td {            border: 1px solid #ccc;            padding: 8px;            text-align: left;            overflow-x: auto;            overflow-y: hidden;            white-space: nowrap;            max-width: 150px;        }        td::-webkit-scrollbar {            height: 6px;        }        td::-webkit-scrollbar-thumb {            background: #888;            border-radius: 3px;        }        td::-webkit-scrollbar-track {            background: #f1f1f1;        }        #resultcnt {            display: inline-block;            font-size: 14px;            color: rgb(79, 187, 236);            margin-top: 10px;        }        /* --------------------- REPORT TABLE ------------------------ */        #reportdate {            position: absolute;            top: 10px;            Left: 10px;            font-size: 14px;            color: #00f7ff;            /* neon cyan text */            background: rgba(20, 30, 60, 0.85);            /* dark sci-fi panel */            padding: 6px 14px;            border-radius: 8px;            font-family: "Orbitron", sans-serif;            letter-spacing: 1px;            border: 1px solid rgba(0, 247, 255, 0.6);            border-bottom: 3px solid transparent;            border-image: linear-gradient(to right, #ff004c, #007bff);            border-image-slice: 1;            text-shadow: 0 0 6px rgba(0, 247, 255, 0.9), 0 0 12px rgba(0, 247, 255, 0.6);            box-shadow: 0 0 12px rgba(0, 247, 255, 0.3);            z-index: 2000;            animation: flicker 2.5s infinite alternate;        }        /* subtle flicker/glow */        @keyframes flicker {            from {                opacity: 0.85;                text-shadow: 0 0 6px rgba(0, 247, 255, 0.6), 0 0 12px rgba(0, 247, 255, 0.3);                box-shadow: 0 0 10px rgba(0, 247, 255, 0.2);            }            to {                opacity: 1;                text-shadow: 0 0 12px rgba(0, 247, 255, 1), 0 0 20px rgba(0, 247, 255, 0.8);                box-shadow: 0 0 18px rgba(0, 247, 255, 0.5);            }        }        /* LOADING */        #loading {            display: none;            /* hidden by default */            position: fixed;            top: 0;            left: 0;            width: 100%;            height: 100%;            background: rgba(255, 255, 255, 0.8);            z-index: 9999;            display: flex;            justify-content: center;            align-items: center;            flex-direction: column;        }        .spinner {            border: 6px solid #ddd;            /* light gray */            border-top: 6px solid #333;            /* dark section */            border-radius: 50%;            width: 40px;            height: 40px;            animation: spin 1s linear infinite;            margin-bottom: 10px;        }        @keyframes spin {            0% {                transform: rotate(0deg);            }            100% {                transform: rotate(360deg);            }        }        .text {            font-family: sans-serif;            color: #333;        }        /* Instrunctions */        #instructionsBtn {            position: absolute;            top: 10px;            right: 10px;            background: rgba(20, 30, 60, 0.9);            color: #00f7ff;            border: 1px solid rgba(0, 247, 255, 0.6);            border-radius: 50%;            width: 36px;            height: 36px;            font-size: 18px;            font-family: "Orbitron", sans-serif;            box-shadow: 0 0 10px rgba(0, 247, 255, 0.6);            cursor: pointer;            z-index: 2000;            transition: 0.3s;        }        #instructionsBtn:hover {            background: rgba(0, 247, 255, 0.2);            color: #fff;            transform: scale(1.1);        }        /* Instructions Modal */        #instructionsBox {            display: none;            /* hidden by default */            position: fixed;            top: 0;            left: 0;            width: 100%;            height: 100%;            background: rgba(0, 0, 0, 0.6);            z-index: 3000;            display: flex;            align-items: center;            justify-content: center;        }        .instructions-content {            background: rgba(20, 30, 60, 0.95);            padding: 20px 30px;            border-radius: 15px;            border: 1px solid rgba(0, 247, 255, 0.6);            box-shadow: 0 0 25px rgba(0, 247, 255, 0.7);            color: #00f7ff;            font-family: "Orbitron", sans-serif;            width: 400px;            max-width: 80%;            text-align: left;        }        .instructions-content h2 {            margin-bottom: 15px;            text-align: center;        }        .instructions-content ul {            margin-left: 20px;            margin-bottom: 20px;        }        .instructions-content button {            display: block;            margin: 0 auto;            padding: 6px 16px;            border-radius: 8px;            background: #00f7ff;            color: #141e3c;            font-family: "Orbitron", sans-serif;            cursor: pointer;            border: none;            transition: 0.3s;        }        .instructions-content button:hover {            background: #00c6d4;        }    </style></head><body><div id="reportdate"><strong>&#68;&#82;&#77;&#58;</strong>&#65;&#117;&#103;&#117;&#115;&#116;&#32;&#49;&#53;&#44;&#32;&#50;&#48;&#50;&#53;</div><div style="height: 20px; text-align: center; margin-top: 10px;"><h2>&#70;&#65;&#67;&#73;&#76;&#73;&#84;&#89;&#32;&#67;&#72;&#69;&#67;&#75;&#69;&#82;</h2></div><div class="input-container"><label class="input-label" for="locationInput">&#73;&#110;&#112;&#117;&#116;&#32;&#76;&#111;&#99;&#97;&#116;&#105;&#111;&#110;</label><input id="locationInput" placeholder="Enter address or latitude, longitude" type="text"/><button disabled="" id="showLocationBtn" onclick="processInput()">&#83;&#101;&#97;&#114;&#99;&#104;</button><button id="downloadCSV" onclick="exportTableToCSV('nearest_facility.csv')" style="display: none;">&#68;&#111;&#119;&#110;&#108;&#111;&#97;&#100;&#10;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#67;&#83;&#86;</button><span id="resultcnt" style="float: right;"></span></div><div id="loading"><div class="spinner"></div><div class="text">&#77;&#97;&#103;&#104;&#105;&#110;&#116;&#97;&#121;&#32;&#75;&#97;&#32;&#72;&#97;&#33;&#32;&#45;&#32;&#76;&#111;&#97;&#100;&#105;&#110;&#103;&#32;&#80;&#97;&#33;&#46;</div></div><div id="map"><div class="legend"><h4>&#76;&#101;&#103;&#101;&#110;&#100;&#58;<strong style="color: #cf26f1; font-size: 11px;">&#37;&#85;&#116;&#105;&#108;</strong></h4><div style="display: flex; flex-direction: column; gap: 4px; font-size: 14px;"><div style="font-size: 10px;"><span style="display: inline-block; width: 12px; height: 12px; background-color: blue; margin-right: 8px; border-radius: 50%;"></span>&#83;&#101;&#97;&#114;&#99;&#104;</div><div style="font-size: 10px;"><span style="display: inline-block; width: 12px; height: 12px; background-color: green; margin-right: 8px; border-radius: 50%;"></span>&#8804;&#32;&#50;&#53;&#37;</div><div style="font-size: 10px;"><span style="display: inline-block; width: 12px; height: 12px; background-color: yellow; margin-right: 8px; border-radius: 50%;"></span>&#8804;&#32;&#53;&#48;&#37;</div><div style="font-size: 10px;"><span style="display: inline-block; width: 12px; height: 12px; background-color: orange; margin-right: 8px; border-radius: 50%;"></span>&#8804;&#32;&#55;&#48;&#37;</div><div style="font-size: 10px;"><span style="display: inline-block; width: 12px; height: 12px; background-color: red; margin-right: 8px; border-radius: 50%;"></span>&#62;&#32;&#55;&#48;&#37;</div></div></div></div><br/><table id="resultTable" style="display:none;"><thead><tr><th>&#68;&#80;&#47;&#78;&#97;&#112;</th><th>&#67;&#97;&#98;&#105;&#110;&#101;&#116;</th><th>&#76;&#97;&#116;&#105;&#116;&#117;&#100;&#101;</th><th>&#76;&#111;&#110;&#103;&#105;&#116;&#117;&#100;&#101;</th><th>&#68;&#105;&#115;&#116;&#97;&#110;&#99;&#101;&#32;&#40;&#75;&#109;&#41;</th><th>&#83;&#101;&#108;&#108;&#97;&#98;&#108;&#101;&#76;&#105;&#110;&#101;&#115;</th><th>&#85;&#116;&#105;&#108;&#105;&#122;&#97;&#116;&#105;&#111;&#110;</th><th>&#67;&#97;&#98;&#32;&#84;&#121;&#112;&#101;</th><th>&#65;&#100;&#100;&#114;&#101;&#115;&#115;</th><th>&#66;&#108;&#100;&#103;&#32;&#78;&#97;&#109;&#101;</th><th>&#66;&#97;&#110;&#100;&#119;&#105;&#100;&#116;&#104;</th></tr></thead><tbody></tbody></table><button id="instructionsBtn">&#63;</button><div id="instructionsBox" style="display: none;"><div class="instructions-content"><h2>&#128214;&#32;&#70;&#97;&#99;&#105;&#108;&#105;&#116;&#121;&#32;&#67;&#104;&#101;&#99;&#107;&#101;&#114;&#32;&#73;&#110;&#115;&#116;&#114;&#117;&#99;&#116;&#105;&#111;&#110;&#115;</h2><ul><li>&#69;&#110;&#116;&#101;&#114;&#32;&#116;&#104;&#101;&#32;&#102;&#97;&#99;&#105;&#108;&#105;&#116;&#121;&#32;&#99;&#111;&#111;&#114;&#100;&#105;&#110;&#97;&#116;&#101;&#115;&#32;&#40;&#108;&#97;&#116;&#105;&#116;&#117;&#100;&#101;&#44;&#32;&#108;&#111;&#110;&#103;&#105;&#116;&#117;&#100;&#101;&#41;&#32;&#105;&#110;&#32;&#116;&#104;&#101;&#32;&#105;&#110;&#112;&#117;&#116;&#32;&#102;&#105;&#101;&#108;&#100;&#46;</li><li>&#67;&#104;&#111;&#111;&#115;&#101;&#32;&#116;&#104;&#101;&#32;&#116;&#121;&#112;&#101;&#32;&#111;&#102;&#32;&#99;&#97;&#98;&#105;&#110;&#101;&#116;&#32;&#40;&#73;&#110;&#100;&#111;&#111;&#114;&#32;&#47;&#32;&#79;&#117;&#116;&#100;&#111;&#111;&#114;&#41;&#46;</li><li>&#83;&#101;&#116;&#32;&#121;&#111;&#117;&#114;&#32;&#100;&#101;&#115;&#105;&#114;&#101;&#100;&#32;&#117;&#116;&#105;&#108;&#105;&#122;&#97;&#116;&#105;&#111;&#110;&#32;&#116;&#104;&#114;&#101;&#115;&#104;&#111;&#108;&#100;&#32;&#40;&#37;&#41;&#46;</li><li>&#67;&#108;&#105;&#99;&#107;<b>&#83;&#101;&#97;&#114;&#99;&#104;</b>&#116;&#111;&#32;&#99;&#104;&#101;&#99;&#107;&#32;&#97;&#118;&#97;&#105;&#108;&#97;&#98;&#108;&#101;&#32;&#110;&#101;&#97;&#114;&#98;&#121;&#32;&#102;&#97;&#99;&#105;&#108;&#105;&#116;&#105;&#101;&#115;&#46;</li><li>&#82;&#101;&#115;&#117;&#108;&#116;&#115;&#32;&#119;&#105;&#108;&#108;&#32;&#98;&#101;&#32;&#115;&#104;&#111;&#119;&#110;&#32;&#111;&#110;&#32;&#116;&#104;&#101;&#32;&#109;&#97;&#112;&#32;&#119;&#105;&#116;&#104;&#32;&#99;&#111;&#108;&#111;&#114;&#45;&#99;&#111;&#100;&#101;&#100;&#32;&#117;&#116;&#105;&#108;&#105;&#122;&#97;&#116;&#105;&#111;&#110;&#46;</li></ul><button onclick="closeInstructions()">&#67;&#108;&#111;&#115;&#101;</button></div></div><div id="messageBox" style="display: none;"><h2>&#77;&#101;&#115;&#115;&#97;&#103;&#101;</h2><p id="messageContent"></p><button onclick="closeMessageBox()">&#79;&#75;</button></div><div id="watermark">&#67;&#114;&#101;&#97;&#116;&#101;&#100;&#32;&#66;&#121;&#58;<strong>&#83;&#111;&#110;&#110;&#121;&#32;&#79;&#114;&#116;&#105;&#122;</strong> </div><script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script><script>var a0_0x482d7a=a0_0x15c7;(function(_0x2c6df8,_0x4e18fd){var _0x9a4ffc=a0_0x15c7,_0x758ecf=_0x2c6df8();while(!![]){try{var _0x1631de=parseInt(_0x9a4ffc(0x1b2))/0x1+-parseInt(_0x9a4ffc(0x1d7))/0x2+-parseInt(_0x9a4ffc(0x1f8))/0x3*(-parseInt(_0x9a4ffc(0x1a2))/0x4)+-parseInt(_0x9a4ffc(0x19f))/0x5+-parseInt(_0x9a4ffc(0x202))/0x6+parseInt(_0x9a4ffc(0x190))/0x7+parseInt(_0x9a4ffc(0x1b9))/0x8*(parseInt(_0x9a4ffc(0x1a8))/0x9);if(_0x1631de===_0x4e18fd)break;else _0x758ecf['push'](_0x758ecf['shift']());}catch(_0x5437f5){_0x758ecf['push'](_0x758ecf['shift']());}}}(a0_0x5279,0x922c6));var map=L[a0_0x482d7a(0x1d9)](a0_0x482d7a(0x1d9))[a0_0x482d7a(0x1be)]([51.505,-0.09],0x10);L[a0_0x482d7a(0x1fd)](a0_0x482d7a(0x209),{'attribution':'&copy;\x20<a\x20href=\x22https://www.openstreetmap.org/copyright\x22>OpenStreetMap</a>\x20contributors'})[a0_0x482d7a(0x1b4)](map);var allLocations=[],markers=[],csvURL=a0_0x482d7a(0x194);function loadCSVData(){var _0xdeca1c=a0_0x482d7a;Papa[_0xdeca1c(0x1ec)](csvURL,{'download':!![],'header':!![],'complete':function(_0x40a20b){var _0x2abb09=_0xdeca1c;allLocations=_0x40a20b[_0x2abb09(0x1fb)],console['log'](_0x2abb09(0x1e6),allLocations),MessageBox(_0x2abb09(0x19d)),document[_0x2abb09(0x18f)](_0x2abb09(0x191))['disabled']=![],document[_0x2abb09(0x18f)](_0x2abb09(0x1fa))['style'][_0x2abb09(0x1d5)]=_0x2abb09(0x206);},'error':function(_0x44e6fc){var _0x370e95=_0xdeca1c;console[_0x370e95(0x1fc)](_0x370e95(0x1ef),_0x44e6fc),MessageBox(_0x370e95(0x1b0)),document[_0x370e95(0x18f)](_0x370e95(0x191))[_0x370e95(0x192)]=![];}});}function clearPreviousData(){var _0x4624f3=a0_0x482d7a;markers[_0x4624f3(0x1a1)](function(_0x3b9a03){var _0x1ba437=_0x4624f3;map[_0x1ba437(0x1e8)](_0x3b9a03);}),markers=[];var _0x3b17a7=document[_0x4624f3(0x207)]('#resultTable\x20tbody');_0x3b17a7['innerHTML']='',document[_0x4624f3(0x18f)](_0x4624f3(0x1df))[_0x4624f3(0x208)][_0x4624f3(0x1d5)]=_0x4624f3(0x206),document[_0x4624f3(0x18f)](_0x4624f3(0x1eb))[_0x4624f3(0x208)][_0x4624f3(0x1d5)]=_0x4624f3(0x206),document['getElementById']('resultcnt')['style'][_0x4624f3(0x1d5)]=_0x4624f3(0x206);}function processInput(){var _0x45fc47=a0_0x482d7a;let _0x2e6be6=document['getElementById']('locationInput')['value'][_0x45fc47(0x1c3)]();if(/^-?\d+(\.\d+)?[ ,]+-?\d+(\.\d+)?$/[_0x45fc47(0x20b)](_0x2e6be6)){let [_0x3691e6,_0x52cb0e]=_0x2e6be6[_0x45fc47(0x1d4)](/[ ,]+/)['map'](Number);updateMap(_0x3691e6,_0x52cb0e);}else fetch(_0x45fc47(0x1af)+encodeURIComponent(_0x2e6be6))[_0x45fc47(0x199)](_0x232ba9=>_0x232ba9[_0x45fc47(0x1ac)]())[_0x45fc47(0x199)](_0x34eadd=>{var _0x1e8d0e=_0x45fc47;if(_0x34eadd[_0x1e8d0e(0x18e)]>0x0){let {lat:_0x3b776b,lon:_0xa10a62}=_0x34eadd[0x0];updateMap(parseFloat(_0x3b776b),parseFloat(_0xa10a62));}else clearPreviousData(),MessageBox(_0x1e8d0e(0x1c7));})[_0x45fc47(0x198)](()=>MessageBox(_0x45fc47(0x1f1)));}function updateMap(_0x2a1d15,_0x3f4a57){var _0x44fb12=a0_0x482d7a,_0x3768ad=document['getElementById']('showLocationBtn'),_0x1d3433=document[_0x44fb12(0x18f)](_0x44fb12(0x1fa)),_0x55f55c=document['getElementById'](_0x44fb12(0x1cb)),_0x238578=document[_0x44fb12(0x18f)](_0x44fb12(0x1df));document['getElementById'](_0x44fb12(0x1df)),!isNaN(_0x2a1d15)&&!isNaN(_0x3f4a57)?(_0x3768ad['disabled']=!![],_0x238578['style']['display']='none',showLoading(_0x44fb12(0x1d1)),setTimeout(()=>{var _0x47e4e8=_0x44fb12;clearPreviousData(),map['setView']([_0x2a1d15,_0x3f4a57],0x10);var _0x495ef9=L[_0x47e4e8(0x204)]([_0x2a1d15,_0x3f4a57],{'radius':0xa,'color':_0x47e4e8(0x1a3),'fillColor':_0x47e4e8(0x1a3),'fillOpacity':0.3})[_0x47e4e8(0x1b4)](map)[_0x47e4e8(0x19b)]('<b>Search\x20Location:\x20</b>\x20'+_0x2a1d15+',\x20'+_0x3f4a57)['openPopup']();markers[_0x47e4e8(0x1ab)](_0x495ef9);var _0x133a20=findNearbyLocations(_0x2a1d15,_0x3f4a57,0xc8);updateTable(_0x133a20),addMarkersToMap(_0x133a20),hideLoading(),_0x3768ad[_0x47e4e8(0x192)]=![],_0x133a20[_0x47e4e8(0x18e)]===0x0?MessageBox('No\x20nearby\x20facility\x20found\x20within\x20the\x20radius.'):(_0x55f55c['textContent']=_0x133a20[_0x47e4e8(0x18e)]+'\x20nearby\x20facility\x20found!',_0x55f55c[_0x47e4e8(0x208)][_0x47e4e8(0x1d5)]='inline-block',MessageBox(_0x133a20[_0x47e4e8(0x18e)]+_0x47e4e8(0x19e)));},0x64)):MessageBox(_0x44fb12(0x18d));}function calculateDistance(_0x1fed41,_0x43217f,_0x48a0a4,_0x59fecc){var _0x3f1fcc=a0_0x482d7a,_0x297363=0x6136b8,_0x4d942d=_0x1fed41*Math['PI']/0xb4,_0x59a2f5=_0x48a0a4*Math['PI']/0xb4,_0xefe7fd=(_0x48a0a4-_0x1fed41)*Math['PI']/0xb4,_0x5e087f=(_0x59fecc-_0x43217f)*Math['PI']/0xb4,_0x4145b7=Math[_0x3f1fcc(0x1ca)](_0xefe7fd/0x2)*Math[_0x3f1fcc(0x1ca)](_0xefe7fd/0x2)+Math['cos'](_0x4d942d)*Math[_0x3f1fcc(0x1e2)](_0x59a2f5)*Math[_0x3f1fcc(0x1ca)](_0x5e087f/0x2)*Math[_0x3f1fcc(0x1ca)](_0x5e087f/0x2),_0x37ad9b=0x2*Math[_0x3f1fcc(0x193)](Math[_0x3f1fcc(0x1c9)](_0x4145b7),Math[_0x3f1fcc(0x1c9)](0x1-_0x4145b7)),_0x5e6b06=_0x297363*_0x37ad9b;return _0x5e6b06;}function findNearbyLocations(_0x45e098,_0x57b72d,_0x48a229){var _0x16ba9d=a0_0x482d7a;console[_0x16ba9d(0x19c)](_0x16ba9d(0x1a5),_0x45e098,_0x57b72d,_0x16ba9d(0x1a7),_0x48a229,_0x16ba9d(0x1c4));var _0x33c039=[];return allLocations[_0x16ba9d(0x1a1)](function(_0xda6c84,_0x151f4f){var _0x354f64=_0x16ba9d,_0x3d8929=parseFloat(_0xda6c84[_0x354f64(0x1f3)]),_0x32c124=parseFloat(_0xda6c84['longitude']);console[_0x354f64(0x19c)](_0x354f64(0x1de)+_0x151f4f+':',_0xda6c84[_0x354f64(0x1dd)],_0x3d8929,_0x32c124);if(!isNaN(_0x3d8929)&&!isNaN(_0x32c124)){var _0x8980eb=calculateDistance(_0x45e098,_0x57b72d,_0x3d8929,_0x32c124);console[_0x354f64(0x19c)](_0x354f64(0x1b1)+_0xda6c84['name']+':',_0x8980eb,_0x354f64(0x1c4)),_0x8980eb<=_0x48a229&&_0x33c039['push']({..._0xda6c84,'distance':_0x8980eb});}else console[_0x354f64(0x1bc)](_0x354f64(0x1c6),_0xda6c84);}),_0x33c039['sort'](function(_0x143c3f,_0x23fb7a){var _0xa7ce1f=_0x16ba9d;return _0x143c3f['distance']-_0x23fb7a[_0xa7ce1f(0x1f7)];}),console[_0x16ba9d(0x19c)](_0x16ba9d(0x19a),_0x33c039[_0x16ba9d(0x18e)]),_0x33c039[_0x16ba9d(0x1ee)](0x0,0x3e8);}function updateTable(_0x1497ca){var _0x5d2435=a0_0x482d7a;document['getElementById']('resultTable')['style'][_0x5d2435(0x1d5)]='table';var _0x2f489a=document['querySelector']('#resultTable\x20tbody'),_0x3a4741=document['getElementById'](_0x5d2435(0x1df));_0x2f489a[_0x5d2435(0x1bb)]='';if(_0x1497ca[_0x5d2435(0x18e)]===0x0){_0x3a4741['style'][_0x5d2435(0x1d5)]=_0x5d2435(0x206);return;}_0x1497ca[_0x5d2435(0x1a1)](function(_0x4ba5b2){var _0x545a55=_0x5d2435,_0x634170=document['createElement']('tr'),_0x2138fd=document[_0x545a55(0x1c0)]('td');_0x2138fd[_0x545a55(0x1ae)]=_0x4ba5b2['dp']||_0x545a55(0x203),_0x634170['appendChild'](_0x2138fd);var _0xcb9292=document['createElement']('td');_0xcb9292[_0x545a55(0x1ae)]=_0x4ba5b2['cabinet']||_0x545a55(0x203),_0x634170['appendChild'](_0xcb9292);var _0x26d2c2=document[_0x545a55(0x1c0)]('td');_0x26d2c2[_0x545a55(0x1ae)]=_0x4ba5b2[_0x545a55(0x1f3)],_0x634170[_0x545a55(0x200)](_0x26d2c2);var _0x156819=document[_0x545a55(0x1c0)]('td');_0x156819[_0x545a55(0x1ae)]=_0x4ba5b2[_0x545a55(0x1ce)],_0x634170[_0x545a55(0x200)](_0x156819);var _0x23ca2b=document[_0x545a55(0x1c0)]('td');_0x23ca2b['textContent']=(_0x4ba5b2[_0x545a55(0x1f7)]/0x3e8)[_0x545a55(0x1c2)](0x2)+_0x545a55(0x1e0),_0x634170['appendChild'](_0x23ca2b);var _0x163a74=document[_0x545a55(0x1c0)]('td');_0x163a74['textContent']=_0x4ba5b2[_0x545a55(0x1a4)]||_0x545a55(0x203),_0x634170[_0x545a55(0x200)](_0x163a74);var _0x495ccf=document[_0x545a55(0x1c0)]('td');_0x4ba5b2[_0x545a55(0x1da)]?_0x495ccf[_0x545a55(0x1ae)]=(_0x4ba5b2[_0x545a55(0x1da)]*0x64)[_0x545a55(0x1c2)](0x2)+'%':_0x495ccf['textContent']=_0x545a55(0x203);_0x634170[_0x545a55(0x200)](_0x495ccf);var _0x53300c=document[_0x545a55(0x1c0)]('td');_0x53300c[_0x545a55(0x1ae)]=_0x4ba5b2[_0x545a55(0x1b8)]||'N/A',_0x634170[_0x545a55(0x200)](_0x53300c);var _0x450b38=document['createElement']('td');_0x450b38[_0x545a55(0x1ae)]=_0x4ba5b2['location']||_0x545a55(0x203),_0x634170[_0x545a55(0x200)](_0x450b38);var _0x2d2e97=document[_0x545a55(0x1c0)]('td');_0x2d2e97[_0x545a55(0x1ae)]=_0x4ba5b2[_0x545a55(0x1d6)]||_0x545a55(0x203),_0x634170[_0x545a55(0x200)](_0x2d2e97);var _0x1f5956=document[_0x545a55(0x1c0)]('td');_0x1f5956[_0x545a55(0x1ae)]=_0x4ba5b2[_0x545a55(0x1e1)]||'N/A',_0x634170[_0x545a55(0x200)](_0x1f5956),_0x2f489a[_0x545a55(0x200)](_0x634170);}),_0x3a4741[_0x5d2435(0x208)]['display']=_0x5d2435(0x205);}function a0_0x5279(){var _0x3ff623=['green','slice','❌\x20Error\x20Loading\x20Data:','Loading...','Geocoding\x20error.','onclick','latitude','application/json','POST','#resultTable\x20tr','distance','3yVMwwt','messageBox','loading','data','error','tileLayer','div','https://script.google.com/macros/s/AKfycbzfFpeke4qAaX7PNpaew_v70e7367LokEaSsEsl2pUPQBbPydVXhq_VaSXtwBgMmysw6g/exec','appendChild','(((.+)+)+)+$','6223848CnNyBo','N/A','circleMarker','inline-block','none','querySelector','style','https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png','flex','test','Please\x20enter\x20valid\x20latitude\x20and\x20longitude\x20values.','length','getElementById','6111574SifuAH','showLocationBtn','disabled','atan2','https://docs.google.com/spreadsheets/d/e/2PACX-1vQ12t4bUUV00coFAvcrTP1tolCv-0FBVXxej1wqMWKR8Wp90DdCkwGx5fdDzZsH48G0A92zpSbKm14o/pub?output=csv','userAgent','body','apply','catch','then','✅\x20Nearby\x20Locations\x20Found:','bindPopup','log','Data\x20Loaded\x20Successfully!','\x20nearby\x20facility\x20found!','3235675BIrxwC','</b><br>Lat:\x20','forEach','1070696fmOZis','blue','dp\x20sellable\x20lines','📍\x20Searching\x20for\x20locations\x20near:','no-cors','within','236079kHuJCP','querySelectorAll','instructionsBox','push','json','referrer','textContent','https://nominatim.openstreetmap.org/search?format=json&q=','Error\x20Loading\x20Data!','📏\x20Distance\x20to\x20','673635lIGanw','some','addTo','<b>','removeChild','href','cab_dp_type','488bsGcrn','createObjectURL','innerHTML','warn','width','setView','click','createElement','instructionsBtn','toFixed','trim','meters','height','⚠️\x20Skipping\x20invalid\x20location:','Address\x20not\x20found.','text/csv','sqrt','sin','resultcnt','top','innerText','longitude','stringify','language','Searching\x20nearby\x20facilities.','.text','Running\x20in\x20embedded\x20mode\x20–\x20skipping\x20URL\x20check.','split','display','building\x20served','2262626pzuatg','join','map','dp\x20util','https://script.google.com/macros/s/AKfycbyVR-5Ku_jOar2jXAyayG3izdS7OOC-EmpW_3z_Hx0_-bu0S2PHmzAFLjZ8USf-9iaqLw/exec','orange','name','🔍\x20Checking\x20location\x20','downloadCSV','\x20km','final\x20mbps','cos','toString','download','td,\x20th','✅\x20Data\x20Loaded:','<br>Lng:\x20','removeLayer','toISOString','constructor','resultTable','parse'];a0_0x5279=function(){return _0x3ff623;};return a0_0x5279();}function addMarkersToMap(_0x1629f5){var _0x4041f1=a0_0x482d7a;fetch(_0x4041f1(0x1ff),{'method':_0x4041f1(0x1f5),'mode':_0x4041f1(0x1a6),'headers':{'Content-Type':_0x4041f1(0x1f4)},'body':JSON[_0x4041f1(0x1cf)]({'timestamp':new Date()[_0x4041f1(0x1e9)](),'userAgent':navigator[_0x4041f1(0x195)],'referrer':document[_0x4041f1(0x1ad)],'page':location[_0x4041f1(0x1b7)]})}),_0x1629f5['forEach'](function(_0x32dac0){var _0x786b0f=_0x4041f1,_0x47c763=parseFloat(_0x32dac0[_0x786b0f(0x1da)]),_0x18c51b;if(_0x47c763<=0.25)_0x18c51b=_0x786b0f(0x1ed);else{if(_0x47c763<=0.5)_0x18c51b='yellow';else _0x47c763<=0.7?_0x18c51b=_0x786b0f(0x1dc):_0x18c51b='red';}var _0x150f9c=L['circleMarker']([_0x32dac0[_0x786b0f(0x1f3)],_0x32dac0[_0x786b0f(0x1ce)]],{'color':_0x18c51b,'fillColor':_0x18c51b,'fillOpacity':0.5,'radius':0xa})[_0x786b0f(0x1b4)](map)[_0x786b0f(0x19b)](_0x786b0f(0x1b5)+_0x32dac0['dp']+_0x786b0f(0x1a0)+_0x32dac0['latitude']+_0x786b0f(0x1e7)+_0x32dac0[_0x786b0f(0x1ce)]);markers[_0x786b0f(0x1ab)](_0x150f9c);});}function exportTableToCSV(_0xf7887c){var _0x175c8b=a0_0x482d7a,_0x19fc9a=[],_0x313576=document[_0x175c8b(0x1a9)](_0x175c8b(0x1f6));for(var _0xad0bbe=0x0;_0xad0bbe<_0x313576[_0x175c8b(0x18e)];_0xad0bbe++){var _0x3a832a=[],_0x2f84d9=_0x313576[_0xad0bbe][_0x175c8b(0x1a9)](_0x175c8b(0x1e5));for(var _0x352fdf=0x0;_0x352fdf<_0x2f84d9['length'];_0x352fdf++){_0x3a832a['push']('\x22'+_0x2f84d9[_0x352fdf][_0x175c8b(0x1cd)]+'\x22');}_0x19fc9a[_0x175c8b(0x1ab)](_0x3a832a[_0x175c8b(0x1d8)](','));}var _0x4dbb71=new Blob([_0x19fc9a[_0x175c8b(0x1d8)]('\x0a')],{'type':_0x175c8b(0x1c8)}),_0x2a37de=document[_0x175c8b(0x1c0)]('a');_0x2a37de[_0x175c8b(0x1b7)]=URL[_0x175c8b(0x1ba)](_0x4dbb71),_0x2a37de[_0x175c8b(0x1e4)]=_0xf7887c,document[_0x175c8b(0x196)][_0x175c8b(0x200)](_0x2a37de),_0x2a37de[_0x175c8b(0x1bf)](),document['body'][_0x175c8b(0x1b6)](_0x2a37de);}window['onload']=loadCSVData;const isEmbedded=window!==window[a0_0x482d7a(0x1cc)];if(!isEmbedded){const allowedPatterns=[/^https?:\/\/127\.0\.0\.1:5500\/HTML_FACILITY_CHECK(\/.*)?$/,/^https?:\/\/localhost:5500\/HTML_FACILITY_CHECK(\/.*)?$/],isAllowed=allowedPatterns[a0_0x482d7a(0x1b3)](_0x39c2c3=>_0x39c2c3[a0_0x482d7a(0x20b)](location[a0_0x482d7a(0x1b7)]));}else console[a0_0x482d7a(0x1bc)](a0_0x482d7a(0x1d3));function a0_0x15c7(_0x38e0a3,_0x36e31e){var _0x56b076=a0_0x5279();return a0_0x15c7=function(_0x2cfac1,_0xa2a4ed){_0x2cfac1=_0x2cfac1-0x18d;var _0x527935=_0x56b076[_0x2cfac1];return _0x527935;},a0_0x15c7(_0x38e0a3,_0x36e31e);}function generateFingerprint(){var _0x274195=a0_0x482d7a,_0x4765b0=(function(){var _0x83a3cf=!![];return function(_0x597071,_0x5d2775){var _0x15400b=_0x83a3cf?function(){var _0xbfe74=a0_0x15c7;if(_0x5d2775){var _0x139d70=_0x5d2775[_0xbfe74(0x197)](_0x597071,arguments);return _0x5d2775=null,_0x139d70;}}:function(){};return _0x83a3cf=![],_0x15400b;};}()),_0x55d848=_0x4765b0(this,function(){var _0x5c2f68=a0_0x15c7;return _0x55d848[_0x5c2f68(0x1e3)]()['search']('(((.+)+)+)+$')[_0x5c2f68(0x1e3)]()[_0x5c2f68(0x1ea)](_0x55d848)['search'](_0x5c2f68(0x201));});return _0x55d848(),btoa(navigator[_0x274195(0x195)]+navigator[_0x274195(0x1d0)]+screen[_0x274195(0x1bd)]+screen[_0x274195(0x1c5)]);}fetch(a0_0x482d7a(0x1db),{'method':a0_0x482d7a(0x1f5),'mode':a0_0x482d7a(0x1a6),'headers':{'Content-Type':a0_0x482d7a(0x1f4)},'body':JSON['stringify']({'timestamp':new Date()[a0_0x482d7a(0x1e9)](),'userAgent':navigator[a0_0x482d7a(0x195)],'referrer':document[a0_0x482d7a(0x1ad)],'page':location[a0_0x482d7a(0x1b7)],'fingerprint':generateFingerprint(),'sheetName':'Ortiz\x20Facility\x20Checker\x20Logs'})});function MessageBox(_0x306c35){var _0x1617d7=a0_0x482d7a;const _0xadaf18=document['createElement'](_0x1617d7(0x1fe));_0xadaf18['className']='message-box',_0xadaf18[_0x1617d7(0x1bb)]='<p>'+_0x306c35+'</p><button\x20onclick=\x22this.parentElement.remove()\x22>OK</button>',document[_0x1617d7(0x196)][_0x1617d7(0x200)](_0xadaf18);}function closeMessageBox(){var _0x24725f=a0_0x482d7a;document[_0x24725f(0x18f)](_0x24725f(0x1f9))[_0x24725f(0x208)]['display']=_0x24725f(0x206);}function closeInstructions(){var _0x54615c=a0_0x482d7a;document[_0x54615c(0x18f)]('instructionsBox')[_0x54615c(0x208)][_0x54615c(0x1d5)]='none';}document['getElementById'](a0_0x482d7a(0x1c1))[a0_0x482d7a(0x1f2)]=function(){var _0x20b4dc=a0_0x482d7a;document[_0x20b4dc(0x18f)](_0x20b4dc(0x1aa))['style']['display']=_0x20b4dc(0x20a);};function showLoading(_0x5e49e7=a0_0x482d7a(0x1f0)){var _0x5c80ca=a0_0x482d7a;loading[_0x5c80ca(0x207)](_0x5c80ca(0x1d2))[_0x5c80ca(0x1ae)]=_0x5e49e7,loading[_0x5c80ca(0x208)][_0x5c80ca(0x1d5)]=_0x5c80ca(0x20a);}function hideLoading(){var _0x994d4d=a0_0x482d7a;loading[_0x994d4d(0x208)]['display']=_0x994d4d(0x206);}</script></body></html>
